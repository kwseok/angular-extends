!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n(require("angular"));else if("function"==typeof define&&define.amd)define(["angular"],n);else{var e=n("object"==typeof exports?require("angular"):t.angular);for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}(this,function(t){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){(function(t){"use strict";e(3),e(4),e(5),e(6),e(7),e(8),e(9),e(10),e(11),e(12),e(14),t.module("ngExtends.directives",["ngExtends.directives.countTo","ngExtends.directives.domInit","ngExtends.directives.focusMe","ngExtends.directives.lower","ngExtends.directives.repeatDone","ngExtends.directives.rotate2d","ngExtends.directives.upper"]),t.module("ngExtends.filters",["ngExtends.filters.arrays","ngExtends.filters.strings"]),t.module("ngExtends.services",["ngExtends.services.playRoutes","ngExtends.services.searchForm"]),t.module("ngExtends",["ngExtends.directives","ngExtends.filters","ngExtends.services"])}).call(n,e(1))},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=e(2),o=r(i);if(!o["default"])throw new Error("Angular.extends requires a AngularJS");t.exports=o["default"]},function(n,e){n.exports=t},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.countTo",[]).directive("exCountTo",["$timeout",function(t){return{replace:!1,scope:!0,link:function(n,e,r){var i,o,u,s,c,l,f,a,p,d;u=e[0],c=null,l=null,p=null,a=null,o=null,s=null,i=function(){var t;l=30,a=0,n.timoutId=null,o=parseInt(r.exCountTo)||0,n.value=parseInt(r.value,10)||0,t=1e3*parseFloat(r.duration)||0,p=Math.ceil(t/l),s=(o-n.value)/p,c=n.value},d=function(){n.timoutId=t(function(){return c+=s,a++,a>=p?(t.cancel(n.timoutId),c=o,u.textContent=o):(u.textContent=Math.round(c),d())},l)},f=function(){null!=n.timoutId&&t.cancel(n.timoutId),i(),d()},r.$observe("exCountTo",function(t){return null!=t?f():void 0}),r.$observe("value",function(){return f()})}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.domInit",[]).directive("exDomInit",[function(){return{restrict:"A",link:function(t,n,e){e.$observe("exDomInit",function(e){var r;return"function"==typeof(r=t.$eval(e))?r(n):void 0})}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.focusMe",[]).directive("exFocusMe",[function(){return{scope:{trigger:"=exFocusMe"},link:function(t,n){t.$watch("trigger",function(e){var r;"boolean"==typeof e&&("function"==typeof n[r=e?"focus":"blur"]&&n[r](),t.trigger=null)})}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.lower",[]).directive("exLower",[function(){return{require:"ngModel",link:function(t,n,e,r){var i;i=function(t){var e,i,o,u;return o=t?t.toLowerCase():t,o!==t&&(e=n[0],u=e.selectionStart,i=e.selectionEnd,r.$setViewValue(o),r.$render(),"function"==typeof e.setSelectionRange&&e.setSelectionRange(u,i)),o},r.$parsers.push(i),i(t[e.ngModel])}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.repeatDone",[]).directive("exRepeatDone",[function(){return{restrict:"A",link:function(t,n,e){null==e.ngRepeat&&null==e.ngRepeatStart||!t.$last||e.$observe("exRepeatDone",function(e){var r;return"function"==typeof(r=t.$eval(e))?r(n):void 0})}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.rotate2d",[]).directive("exRotate2d",[function(){return{scope:{value:"=exRotate2d",limit:"=",angle:"="},link:function(t,n){t.$watchCollection("[value, limit, angle]",function(t){var e,r,i,o;o=t[0]||0,i=t[1]||10,e=t[2]||360,r=o*e/i,n.css({"-webkit-transform":"rotate("+r+"deg)","-moz-transform":"rotate("+r+"deg)",transform:"rotate("+r+"deg)"})})}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.upper",[]).directive("exUpper",[function(){return{require:"ngModel",link:function(t,n,e,r){var i;i=function(t){var e,i,o,u;return u=t?t.toUpperCase():t,u!==t&&(e=n[0],o=e.selectionStart,i=e.selectionEnd,r.$setViewValue(u),r.$render(),"function"==typeof e.setSelectionRange&&e.setSelectionRange(o,i)),u},r.$parsers.push(i),i(t[e.ngModel])}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";var n=[].slice;t.module("ngExtends.filters.arrays",[]).filter("makeArray",[function(){return function(n){return t.isArray(n)?n:null==n?[]:[n]}}]).filter("range",[function(){return function(t,n,e){var r,i,o,u,s,c,l,f,a;for(null==e&&(e=1),u="number"==typeof t&&"number"==typeof n,r=u?t:t.toString().charCodeAt(0),i=u?n:n.toString().charCodeAt(0),a=[],o=s=c=r,l=i,f=r>i?-e:e;f>0?l>=s:s>=l;o=s+=f)u?a.push(o):a.push(String.fromCharCode(o));return a}}]).filter("join",["makeArrayFilter",function(t){return function(n,e){return t(n).join(e)}}]).filter("combine",["$parse",function(e){return function(){var r,i,o,u;return r=arguments[0],o=2<=arguments.length?n.call(arguments,1):[],t.isArray(r)||(r=[r]),function(){var n,s,c,l,f;for(f=[],n=0,c=r.length;c>n;n++){for(u=r[n],s=0,l=o.length;l>s;s++)i=o[s],t.isFunction(i)?u=i(u):"string"==typeof i&&(u=function(){switch(i){case"=integer":return parseInt(u);case"=float":return parseFloat(u);default:return e(i)(u)}}());f.push(u)}return f}().reduce(function(t,n){return t+n})}}]).filter("limit",["makeArrayFilter",function(t){return function(n,e,r){var i,o;return i=(e-1)*r,o=i+r,t(n).slice(i,o)}}]).filter("trim",[function(){return function(n){var e,r,i,o,u,s;if(t.isArray(n)){for(s=[],r=0,i=n.length;i>r;r++)e=n[r],s.push(null!=e&&"function"==typeof e.toString&&null!=(o=e.toString())&&"function"==typeof o.trim?o.trim():void 0);return s}return null!=n&&"function"==typeof n.toString&&null!=(u=n.toString())&&"function"==typeof u.trim?u.trim():void 0}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.filters.strings",[]).filter("trustAs",["$sce",function(t){return function(n,e){return t.trustAs(e,n)}}]).filter("trustAsCss",["$sce",function(t){return t.trustAsCss}]).filter("trustAsHtml",["$sce",function(t){return t.trustAsHtml}]).filter("trustAsJs",["$sce",function(t){return t.trustAsJs}]).filter("trustAsResourceUrl",["$sce",function(t){return t.trustAsResourceUrl}]).filter("trustAsUrl",["$sce",function(t){return t.trustAsUrl}]).filter("replace",[function(){return function(t,n,e,r){return n instanceof RegExp||(n=new RegExp((n||"").toString(),r)),(t||"").toString().replace(n,e)}}]).filter("nl2br",[function(){return function(t){return(t||"").toString().replace(/(\r\n|\n\r|\r|\n)/g,"<br/>")}}]).filter("br2nl",[function(){return function(t){return(t||"").toString().replace(/(<br>|<br\/>)/g,"\n")}}]).filter("space2nbsp",[function(){return function(t){return(t||"").toString().replace(/\s/g,"&nbsp;")}}]).filter("nbsp2space",[function(){return function(t){return(t||"").toString().replace(/&nbsp;/g," ")}}]).filter("split",[function(){return function(n,e,r){return null==n?n:n.toString().split(new RegExp((t.isArray(e)?e.join("|"):e).toString()),r)}}]).filter("cutstring",[function(){return function(t,n,e){var r;return null==n&&(n=10),null==e&&(e="..."),null==t?t:(r=t.toString(),r.length>n-e.length&&(r=r.slice(0,n)+e),r)}}]).filter("roundcutstring",[function(){return function(t,n,e,r,i){var o,u,s,c;return null==e&&(e=20),null==r&&(r="..."),null==i&&(i="..."),null==t?t:(s=t.toString(),c=(n||"").toString(),u=s.indexOf(c),-1===u?(s.length>e-i.length&&(s=s.slice(0,e)+i),s):(o=function(t,n,e,u){var s,c,l,f,a,p,d;return 0>=u||0===t.length&&0===n.length?(s=t.length>0?r:"",c=n.length>0?i:"",s+e+c):(l=u/2,1>l?o(t.slice(0,-1),n,t.slice(-1)+e,0):(a=t.slice(-l),f=n.slice(0,l),d=t.slice(0,-l),p=n.slice(l),o(d,p,a+e+f,u-a.length-f.length)))})(s.slice(0,u),s.slice(u+c.length),c,e-c.length-r.length-i.length))}}])}).call(n,e(1))},function(t,n,e){(function(t,n){"use strict";var e=[].slice;t.module("ngExtends.services.playRoutes",[]).provider("$playRoutes",[function(){this.jsRoutes=n.Routes,this.$get=["$http","$location",function(n){return function(r,i){var o,u,s;return s=function(t){return function(){var n,o,u,s,c,l,f;return l=t.apply(this,arguments),u=l.method.toLowerCase(),n=l.absoluteURL(),o=null!=(s=n.match(/^https?:\/\/([^\/?#]+)(?:[\/?#]|$)/i))?s[1]:void 0,f=i.host()===o?l.url:n,c={$route:l,method:u,url:f,absoluteURL:l.absoluteURL,webSocketURL:l.webSocketURL},c.send=c.ajax=function(t){return t=t||{},t.method=u,t.url=f,r(t)},c[u]=function(){var t,n;return n=1<=arguments.length?e.call(arguments,0):[],(t=r[u]).apply(t,[].concat.call([f],n))},c}},(o=function(n,e){var r,i;for(r in e)i=e[r],t.isFunction(i)?n[r]=s(i):(r in n||(n[r]={}),o(n[r],i))})(u={},n.jsRoutes),u}}(this)]}])}).call(n,e(1),e(13))},function(t,n){(function(n){"use strict";if(!n.document)throw new Error("Angular.extends requires a window with a document");t.exports=n}).call(n,function(){return this}())},function(t,n,e){(function(t){"use strict";t.module("ngExtends.services.searchForm",[]).factory("$searchForm",[function(){return function(n){var e;return new(e=function(){function n(n){this.options=n,t.isFunction(this.options)&&(this.options={action:this.options}),this.options=t.extend({defaults:{},preSubmit:function(t,n,e){},preReset:function(t){},submit:function(t,n,e){},reset:function(t){},action:function(t){}},this.options),this.current=t.copy(this.options.defaults)||{},this.form=t.copy(this.options.defaults)||{}}return n.prototype.isPristine=function(){return t.equals(this.current,this.form)},n.prototype.isDirty=function(){return!this.isPristine()},n.prototype.isChanged=function(){return!t.equals(this.current,this.options.defaults)},n.prototype.submit=function(n,e,r){var i,o,u,s,c,l;return("function"==typeof(i=this.options).preSubmit?i.preSubmit(n,e,r):void 0)!==!1&&(null!=e&&(s=function(){var t,n;t=e||{},n=[];for(c in t)l=t[c],n.push([c,l]);return n}().every(function(n){return function(e){var r,i;return r=e[0],i=e[1],t.equals(n.form[r],i,!0)}}(this)),t.extend(this.form,t.copy(s?r:e))),this.current=t.copy(this.form),"function"==typeof(o=this.options).submit&&o.submit(n,e,r),"function"==typeof(u=this.options).action&&u.action(n)),this},n.prototype.reset=function(n){var e,r,i;return("function"==typeof(e=this.options).preReset?e.preReset(n):void 0)!==!1&&(null!=n&&"function"==typeof n.$setPristine&&n.$setPristine(),this.current=t.copy(this.options.defaults)||{},this.form=t.copy(this.options.defaults)||{},"function"==typeof(r=this.options).reset&&r.reset(n),"function"==typeof(i=this.options).action&&i.action(n)),this},n.prototype.params=function(n,e){var r,i,o,u;t.isObject(n)&&(o=[n,!1],e=o[0],n=o[1]),i=n===!0?t.copy(this.current):t.copy(this.form=t.copy(this.current));for(r in this.options.defaults)t.isArray(i[r])&&(i[r]=i[r].filter(function(t){return!!t}));if(i=t.extend(i,t.copy(e)),t.isFunction(this.options.transform))for(r in i)u=i[r],i[r]=this.options.transform(r,u);return i},n}())(n)}}])}).call(n,e(1))}])});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXItZXh0ZW5kcy5taW4uanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsImEiLCJpIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJhbmd1bGFyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2FuZ3VsYXIiLCJfYW5ndWxhcjIiLCJFcnJvciIsImRpcmVjdGl2ZSIsIiR0aW1lb3V0IiwicmVwbGFjZSIsInNjb3BlIiwibGluayIsImVsZW1lbnQiLCJhdHRycyIsImNhbGN1bGF0ZSIsImNvdW50VG8iLCJlbGVtIiwiaW5jcmVtZW50IiwibnVtIiwicmVmcmVzaEludGVydmFsIiwic3RhcnQiLCJzdGVwIiwic3RlcHMiLCJ0aWNrIiwiZHVyYXRpb24iLCJ0aW1vdXRJZCIsInBhcnNlSW50IiwiZXhDb3VudFRvIiwidmFsdWUiLCJwYXJzZUZsb2F0IiwiTWF0aCIsImNlaWwiLCJjYW5jZWwiLCJ0ZXh0Q29udGVudCIsInJvdW5kIiwiJG9ic2VydmUiLCJ2YWwiLCJyZXN0cmljdCIsImJhc2UiLCIkZXZhbCIsInRyaWdnZXIiLCIkd2F0Y2giLCJuYW1lIiwibW9kZWxDdHJsIiwidG9Mb3dlciIsImlucHV0VmFsdWUiLCJlbmQiLCJsb3dlcmVkIiwidG9Mb3dlckNhc2UiLCJzZWxlY3Rpb25TdGFydCIsInNlbGVjdGlvbkVuZCIsIiRzZXRWaWV3VmFsdWUiLCIkcmVuZGVyIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCIkcGFyc2VycyIsInB1c2giLCJuZ01vZGVsIiwibmdSZXBlYXQiLCJuZ1JlcGVhdFN0YXJ0IiwiJGxhc3QiLCJsaW1pdCIsImFuZ2xlIiwiJHdhdGNoQ29sbGVjdGlvbiIsInZhbHVlcyIsImRlZ3JlZSIsImNzcyIsIi13ZWJraXQtdHJhbnNmb3JtIiwiLW1vei10cmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJ0b1VwcGVyIiwidXBwZXJlZCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJmaWx0ZXIiLCJpbnB1dCIsImlzQXJyYXkiLCJmcm9tIiwidG8iLCJiZWdpbiIsImlzTnVtYmVyIiwiaiIsInJlZiIsInJlZjEiLCJyZWYyIiwicmVzdWx0cyIsInRvU3RyaW5nIiwiY2hhckNvZGVBdCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsIm1ha2VBcnJheUZpbHRlciIsInNlcCIsImpvaW4iLCIkcGFyc2UiLCJ0IiwidHJhbnNmb3JtZXJzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiayIsImxlbiIsImxlbjEiLCJpc0Z1bmN0aW9uIiwicmVkdWNlIiwidiIsInBhZ2UiLCJpdGVtc1BlclBhZ2UiLCJ0cmltIiwiJHNjZSIsInR5cGUiLCJ0cnVzdEFzIiwidHJ1c3RBc0NzcyIsInRydXN0QXNIdG1sIiwidHJ1c3RBc0pzIiwidHJ1c3RBc1Jlc291cmNlVXJsIiwidHJ1c3RBc1VybCIsInNlYXJjaCIsInJlcGxhY2VtZW50Iiwib3B0aW9ucyIsIlJlZ0V4cCIsInNlcGFyYXRvcnMiLCJzcGxpdCIsIm1heExlbmd0aCIsInN1ZmZpeCIsImlucHV0U3RyaW5nIiwicHJlZml4IiwiZG9DdXQiLCJzZWFyY2hTdHJpbmciLCJpbmRleE9mIiwiYmVmb3JlIiwiYWZ0ZXIiLCJzdHJpbmciLCJyZXN0TGVuZ3RoIiwiZW1wdHlPclByZWZpeCIsImVtcHR5T3JTdWZmaXgiLCJoYWxmTGVuZ3RoIiwicGllY2VPZkFmdGVyIiwicGllY2VPZkJlZm9yZSIsInJlc3RPZkFmdGVyIiwicmVzdE9mQmVmb3JlIiwid2luZG93IiwicHJvdmlkZXIiLCJqc1JvdXRlcyIsIlJvdXRlcyIsIiRnZXQiLCJfdGhpcyIsIiRodHRwIiwiJGxvY2F0aW9uIiwiYWRkUm91dGVzIiwicGxheVJvdXRlcyIsIndyYXBIdHRwIiwiZm4iLCJhYnNvbHV0ZVVSTCIsImhvc3QiLCJodHRwTWV0aG9kIiwicmVzIiwicm91dGVPYmplY3QiLCJ1cmwiLCJhcHBseSIsIm1ldGhvZCIsIm1hdGNoIiwiJHJvdXRlIiwid2ViU29ja2V0VVJMIiwic2VuZCIsImFqYXgiLCJhcmdzIiwiY29uY2F0IiwicGxheVJvdXRlc09iamVjdCIsImpzUm91dGVzT2JqZWN0Iiwia2V5IiwiZ2xvYmFsIiwiZG9jdW1lbnQiLCJTZWFyY2hGb3JtIiwib3B0aW9uczEiLCJhY3Rpb24iLCJleHRlbmQiLCJkZWZhdWx0cyIsInByZVN1Ym1pdCIsImZvcm0iLCJmaWx0ZXJzIiwidW5maWx0ZXJzIiwicHJlUmVzZXQiLCJzdWJtaXQiLCJyZXNldCIsImN1cnJlbnQiLCJjb3B5IiwicHJvdG90eXBlIiwiaXNQcmlzdGluZSIsImVxdWFscyIsImlzRGlydHkiLCJpc0NoYW5nZWQiLCJiYXNlMSIsImJhc2UyIiwiaXNGaWx0ZXJlZCIsImV2ZXJ5Iiwia2V5V2l0aFZhbHVlIiwiJHNldFByaXN0aW5lIiwicGFyYW1zIiwicmVmcmVzaCIsImlzT2JqZWN0Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDaEQsR0FBc0IsZ0JBQVpDLFVBQTBDLGdCQUFYQyxRQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxnQkFDN0IsSUFBcUIsa0JBQVhDLFNBQXlCQSxPQUFPQyxJQUM5Q0QsUUFBUSxXQUFZSixPQUNoQixDQUNKLEdBQUlNLEdBQWtDTixFQUFYLGdCQUFaQyxTQUErQkUsUUFBUSxXQUFzQkosRUFBYyxRQUMxRixLQUFJLEdBQUlRLEtBQUtELElBQXVCLGdCQUFaTCxTQUF1QkEsUUFBVUYsR0FBTVEsR0FBS0QsRUFBRUMsS0FFckVDLEtBQU0sU0FBU0MsR0FDbEIsTUFBZ0IsVUFBVUMsR0FLaEIsUUFBU0MsR0FBb0JDLEdBRzVCLEdBQUdDLEVBQWlCRCxHQUNuQixNQUFPQyxHQUFpQkQs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NEIsRUFBTzVCLEdBQU9wTCxLQUFLaUksUUFBUWhELFVBQVVtRyxFQUFLM0ksRUFHOUMsT0FBT3VLLElBR0Z6QixNQUdhdEQsU0FLQ3pILEtBQUtmLEVBQVNVLEVBQW9CIiwiZmlsZSI6ImFuZ3VsYXItZXh0ZW5kcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJhbmd1bGFyXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcImFuZ3VsYXJcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGZhY3RvcnkocmVxdWlyZShcImFuZ3VsYXJcIikpIDogZmFjdG9yeShyb290W1wiYW5ndWxhclwiXSk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGFuZ3VsYXIpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdFxuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzLmRpcmVjdGl2ZXMnLCBbJ25nRXh0ZW5kcy5kaXJlY3RpdmVzLmNvdW50VG8nLCAnbmdFeHRlbmRzLmRpcmVjdGl2ZXMuZG9tSW5pdCcsICduZ0V4dGVuZHMuZGlyZWN0aXZlcy5mb2N1c01lJywgJ25nRXh0ZW5kcy5kaXJlY3RpdmVzLmxvd2VyJywgJ25nRXh0ZW5kcy5kaXJlY3RpdmVzLnJlcGVhdERvbmUnLCAnbmdFeHRlbmRzLmRpcmVjdGl2ZXMucm90YXRlMmQnLCAnbmdFeHRlbmRzLmRpcmVjdGl2ZXMudXBwZXInXSk7XG5cdFxuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzLmZpbHRlcnMnLCBbJ25nRXh0ZW5kcy5maWx0ZXJzLmFycmF5cycsICduZ0V4dGVuZHMuZmlsdGVycy5zdHJpbmdzJ10pO1xuXHRcblx0YW5ndWxhci5tb2R1bGUoJ25nRXh0ZW5kcy5zZXJ2aWNlcycsIFsnbmdFeHRlbmRzLnNlcnZpY2VzLnBsYXlSb3V0ZXMnLCAnbmdFeHRlbmRzLnNlcnZpY2VzLnNlYXJjaEZvcm0nXSk7XG5cdFxuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzJywgWyduZ0V4dGVuZHMuZGlyZWN0aXZlcycsICduZ0V4dGVuZHMuZmlsdGVycycsICduZ0V4dGVuZHMuc2VydmljZXMnXSk7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfYW5ndWxhciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2FuZ3VsYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5ndWxhcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0aWYgKCFfYW5ndWxhcjIuZGVmYXVsdCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKFwiQW5ndWxhci5leHRlbmRzIHJlcXVpcmVzIGEgQW5ndWxhckpTXCIpO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9hbmd1bGFyMi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXztcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihhbmd1bGFyKSB7J3VzZSBzdHJpY3QnO1xuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzLmRpcmVjdGl2ZXMuY291bnRUbycsIFtdKS5kaXJlY3RpdmUoJ2V4Q291bnRUbycsIFtcblx0ICAnJHRpbWVvdXQnLCBmdW5jdGlvbigkdGltZW91dCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVwbGFjZTogZmFsc2UsXG5cdCAgICAgIHNjb3BlOiB0cnVlLFxuXHQgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblx0ICAgICAgICB2YXIgY2FsY3VsYXRlLCBjb3VudFRvLCBlbGVtLCBpbmNyZW1lbnQsIG51bSwgcmVmcmVzaEludGVydmFsLCBzdGFydCwgc3RlcCwgc3RlcHMsIHRpY2s7XG5cdCAgICAgICAgZWxlbSA9IGVsZW1lbnRbMF07XG5cdCAgICAgICAgbnVtID0gbnVsbDtcblx0ICAgICAgICByZWZyZXNoSW50ZXJ2YWwgPSBudWxsO1xuXHQgICAgICAgIHN0ZXBzID0gbnVsbDtcblx0ICAgICAgICBzdGVwID0gbnVsbDtcblx0ICAgICAgICBjb3VudFRvID0gbnVsbDtcblx0ICAgICAgICBpbmNyZW1lbnQgPSBudWxsO1xuXHQgICAgICAgIGNhbGN1bGF0ZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgdmFyIGR1cmF0aW9uO1xuXHQgICAgICAgICAgcmVmcmVzaEludGVydmFsID0gMzA7XG5cdCAgICAgICAgICBzdGVwID0gMDtcblx0ICAgICAgICAgIHNjb3BlLnRpbW91dElkID0gbnVsbDtcblx0ICAgICAgICAgIGNvdW50VG8gPSBwYXJzZUludChhdHRycy5leENvdW50VG8pIHx8IDA7XG5cdCAgICAgICAgICBzY29wZS52YWx1ZSA9IHBhcnNlSW50KGF0dHJzLnZhbHVlLCAxMCkgfHwgMDtcblx0ICAgICAgICAgIGR1cmF0aW9uID0gKHBhcnNlRmxvYXQoYXR0cnMuZHVyYXRpb24pICogMTAwMCkgfHwgMDtcblx0ICAgICAgICAgIHN0ZXBzID0gTWF0aC5jZWlsKGR1cmF0aW9uIC8gcmVmcmVzaEludGVydmFsKTtcblx0ICAgICAgICAgIGluY3JlbWVudCA9IChjb3VudFRvIC0gc2NvcGUudmFsdWUpIC8gc3RlcHM7XG5cdCAgICAgICAgICBudW0gPSBzY29wZS52YWx1ZTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHRpY2sgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIHNjb3BlLnRpbW91dElkID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIG51bSArPSBpbmNyZW1lbnQ7XG5cdCAgICAgICAgICAgIHN0ZXArKztcblx0ICAgICAgICAgICAgaWYgKHN0ZXAgPj0gc3RlcHMpIHtcblx0ICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoc2NvcGUudGltb3V0SWQpO1xuXHQgICAgICAgICAgICAgIG51bSA9IGNvdW50VG87XG5cdCAgICAgICAgICAgICAgcmV0dXJuIGVsZW0udGV4dENvbnRlbnQgPSBjb3VudFRvO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGVsZW0udGV4dENvbnRlbnQgPSBNYXRoLnJvdW5kKG51bSk7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHRpY2soKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSwgcmVmcmVzaEludGVydmFsKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICBpZiAoc2NvcGUudGltb3V0SWQgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoc2NvcGUudGltb3V0SWQpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgY2FsY3VsYXRlKCk7XG5cdCAgICAgICAgICB0aWNrKCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZXhDb3VudFRvJywgZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgICBpZiAodmFsICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXJ0KCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgYXR0cnMuJG9ic2VydmUoJ3ZhbHVlJywgZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICByZXR1cm4gc3RhcnQoKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XG5cdF0pO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGFuZ3VsYXIpIHsndXNlIHN0cmljdCc7XG5cdGFuZ3VsYXIubW9kdWxlKCduZ0V4dGVuZHMuZGlyZWN0aXZlcy5kb21Jbml0JywgW10pLmRpcmVjdGl2ZSgnZXhEb21Jbml0JywgW1xuXHQgIGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVzdHJpY3Q6ICdBJyxcblx0ICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cdCAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2V4RG9tSW5pdCcsIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICB2YXIgYmFzZTtcblx0ICAgICAgICAgIHJldHVybiB0eXBlb2YgKGJhc2UgPSBzY29wZS4kZXZhbCh2YWx1ZSkpID09PSBcImZ1bmN0aW9uXCIgPyBiYXNlKGVsZW1lbnQpIDogdm9pZCAwO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oYW5ndWxhcikgeyd1c2Ugc3RyaWN0Jztcblx0YW5ndWxhci5tb2R1bGUoJ25nRXh0ZW5kcy5kaXJlY3RpdmVzLmZvY3VzTWUnLCBbXSkuZGlyZWN0aXZlKCdleEZvY3VzTWUnLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBzY29wZToge1xuXHQgICAgICAgIHRyaWdnZXI6ICc9ZXhGb2N1c01lJ1xuXHQgICAgICB9LFxuXHQgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCkge1xuXHQgICAgICAgIHNjb3BlLiR3YXRjaCgndHJpZ2dlcicsIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICB2YXIgbmFtZTtcblx0ICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnRbbmFtZSA9IHZhbHVlID8gJ2ZvY3VzJyA6ICdibHVyJ10gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICAgIGVsZW1lbnRbbmFtZV0oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBzY29wZS50cmlnZ2VyID0gbnVsbDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XG5cdF0pO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGFuZ3VsYXIpIHsndXNlIHN0cmljdCc7XG5cdGFuZ3VsYXIubW9kdWxlKCduZ0V4dGVuZHMuZGlyZWN0aXZlcy5sb3dlcicsIFtdKS5kaXJlY3RpdmUoJ2V4TG93ZXInLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbW9kZWxDdHJsKSB7XG5cdCAgICAgICAgdmFyIHRvTG93ZXI7XG5cdCAgICAgICAgdG9Mb3dlciA9IGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcblx0ICAgICAgICAgIHZhciBlbGVtLCBlbmQsIGxvd2VyZWQsIHN0YXJ0O1xuXHQgICAgICAgICAgbG93ZXJlZCA9IGlucHV0VmFsdWUgPyBpbnB1dFZhbHVlLnRvTG93ZXJDYXNlKCkgOiBpbnB1dFZhbHVlO1xuXHQgICAgICAgICAgaWYgKGxvd2VyZWQgIT09IGlucHV0VmFsdWUpIHtcblx0ICAgICAgICAgICAgZWxlbSA9IGVsZW1lbnRbMF07XG5cdCAgICAgICAgICAgIHN0YXJ0ID0gZWxlbS5zZWxlY3Rpb25TdGFydDtcblx0ICAgICAgICAgICAgZW5kID0gZWxlbS5zZWxlY3Rpb25FbmQ7XG5cdCAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGxvd2VyZWQpO1xuXHQgICAgICAgICAgICBtb2RlbEN0cmwuJHJlbmRlcigpO1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW0uc2V0U2VsZWN0aW9uUmFuZ2UgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICAgIGVsZW0uc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIGVuZCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiBsb3dlcmVkO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgbW9kZWxDdHJsLiRwYXJzZXJzLnB1c2godG9Mb3dlcik7XG5cdCAgICAgICAgdG9Mb3dlcihzY29wZVthdHRycy5uZ01vZGVsXSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfVxuXHRdKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihhbmd1bGFyKSB7J3VzZSBzdHJpY3QnO1xuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzLmRpcmVjdGl2ZXMucmVwZWF0RG9uZScsIFtdKS5kaXJlY3RpdmUoJ2V4UmVwZWF0RG9uZScsIFtcblx0ICBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlc3RyaWN0OiAnQScsXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXHQgICAgICAgIGlmICgoKGF0dHJzLm5nUmVwZWF0ICE9IG51bGwpIHx8IChhdHRycy5uZ1JlcGVhdFN0YXJ0ICE9IG51bGwpKSAmJiBzY29wZS4kbGFzdCkge1xuXHQgICAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2V4UmVwZWF0RG9uZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIHZhciBiYXNlO1xuXHQgICAgICAgICAgICByZXR1cm4gdHlwZW9mIChiYXNlID0gc2NvcGUuJGV2YWwodmFsdWUpKSA9PT0gXCJmdW5jdGlvblwiID8gYmFzZShlbGVtZW50KSA6IHZvaWQgMDtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XG5cdF0pO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGFuZ3VsYXIpIHsndXNlIHN0cmljdCc7XG5cdGFuZ3VsYXIubW9kdWxlKCduZ0V4dGVuZHMuZGlyZWN0aXZlcy5yb3RhdGUyZCcsIFtdKS5kaXJlY3RpdmUoJ2V4Um90YXRlMmQnLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBzY29wZToge1xuXHQgICAgICAgIHZhbHVlOiAnPWV4Um90YXRlMmQnLFxuXHQgICAgICAgIGxpbWl0OiAnPScsXG5cdCAgICAgICAgYW5nbGU6ICc9J1xuXHQgICAgICB9LFxuXHQgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCkge1xuXHQgICAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ1t2YWx1ZSwgbGltaXQsIGFuZ2xlXScsIGZ1bmN0aW9uKHZhbHVlcykge1xuXHQgICAgICAgICAgdmFyIGFuZ2xlLCBkZWdyZWUsIGxpbWl0LCB2YWx1ZTtcblx0ICAgICAgICAgIHZhbHVlID0gdmFsdWVzWzBdIHx8IDA7XG5cdCAgICAgICAgICBsaW1pdCA9IHZhbHVlc1sxXSB8fCAxMDtcblx0ICAgICAgICAgIGFuZ2xlID0gdmFsdWVzWzJdIHx8IDM2MDtcblx0ICAgICAgICAgIGRlZ3JlZSA9IHZhbHVlICogYW5nbGUgLyBsaW1pdDtcblx0ICAgICAgICAgIGVsZW1lbnQuY3NzKHtcblx0ICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3JvdGF0ZSgnICsgZGVncmVlICsgJ2RlZyknLFxuXHQgICAgICAgICAgICAnLW1vei10cmFuc2Zvcm0nOiAncm90YXRlKCcgKyBkZWdyZWUgKyAnZGVnKScsXG5cdCAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAncm90YXRlKCcgKyBkZWdyZWUgKyAnZGVnKSdcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oYW5ndWxhcikgeyd1c2Ugc3RyaWN0Jztcblx0YW5ndWxhci5tb2R1bGUoJ25nRXh0ZW5kcy5kaXJlY3RpdmVzLnVwcGVyJywgW10pLmRpcmVjdGl2ZSgnZXhVcHBlcicsIFtcblx0ICBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcblx0ICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBtb2RlbEN0cmwpIHtcblx0ICAgICAgICB2YXIgdG9VcHBlcjtcblx0ICAgICAgICB0b1VwcGVyID0gZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xuXHQgICAgICAgICAgdmFyIGVsZW0sIGVuZCwgc3RhcnQsIHVwcGVyZWQ7XG5cdCAgICAgICAgICB1cHBlcmVkID0gaW5wdXRWYWx1ZSA/IGlucHV0VmFsdWUudG9VcHBlckNhc2UoKSA6IGlucHV0VmFsdWU7XG5cdCAgICAgICAgICBpZiAodXBwZXJlZCAhPT0gaW5wdXRWYWx1ZSkge1xuXHQgICAgICAgICAgICBlbGVtID0gZWxlbWVudFswXTtcblx0ICAgICAgICAgICAgc3RhcnQgPSBlbGVtLnNlbGVjdGlvblN0YXJ0O1xuXHQgICAgICAgICAgICBlbmQgPSBlbGVtLnNlbGVjdGlvbkVuZDtcblx0ICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUodXBwZXJlZCk7XG5cdCAgICAgICAgICAgIG1vZGVsQ3RybC4kcmVuZGVyKCk7XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbS5zZXRTZWxlY3Rpb25SYW5nZSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgZWxlbS5zZXRTZWxlY3Rpb25SYW5nZShzdGFydCwgZW5kKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmV0dXJuIHVwcGVyZWQ7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBtb2RlbEN0cmwuJHBhcnNlcnMucHVzaCh0b1VwcGVyKTtcblx0ICAgICAgICB0b1VwcGVyKHNjb3BlW2F0dHJzLm5nTW9kZWxdKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XG5cdF0pO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihhbmd1bGFyKSB7J3VzZSBzdHJpY3QnO1xuXHR2YXIgc2xpY2UgPSBbXS5zbGljZTtcblx0XG5cdGFuZ3VsYXIubW9kdWxlKCduZ0V4dGVuZHMuZmlsdGVycy5hcnJheXMnLCBbXSkuZmlsdGVyKCdtYWtlQXJyYXknLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShpbnB1dCkpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQ7XG5cdCAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW2lucHV0XTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XG5cdF0pLmZpbHRlcigncmFuZ2UnLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oZnJvbSwgdG8sIHN0ZXApIHtcblx0ICAgICAgdmFyIGJlZ2luLCBlbmQsIGksIGlzTnVtYmVyLCBqLCByZWYsIHJlZjEsIHJlZjIsIHJlc3VsdHM7XG5cdCAgICAgIGlmIChzdGVwID09IG51bGwpIHtcblx0ICAgICAgICBzdGVwID0gMTtcblx0ICAgICAgfVxuXHQgICAgICBpc051bWJlciA9IHR5cGVvZiBmcm9tID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdG8gPT09ICdudW1iZXInO1xuXHQgICAgICBiZWdpbiA9IGlzTnVtYmVyID8gZnJvbSA6IGZyb20udG9TdHJpbmcoKS5jaGFyQ29kZUF0KDApO1xuXHQgICAgICBlbmQgPSBpc051bWJlciA/IHRvIDogdG8udG9TdHJpbmcoKS5jaGFyQ29kZUF0KDApO1xuXHQgICAgICByZXN1bHRzID0gW107XG5cdCAgICAgIGZvciAoaSA9IGogPSByZWYgPSBiZWdpbiwgcmVmMSA9IGVuZCwgcmVmMiA9IChiZWdpbiA+IGVuZCA/IC1zdGVwIDogc3RlcCk7IHJlZjIgPiAwID8gaiA8PSByZWYxIDogaiA+PSByZWYxOyBpID0gaiArPSByZWYyKSB7XG5cdCAgICAgICAgaWYgKGlzTnVtYmVyKSB7XG5cdCAgICAgICAgICByZXN1bHRzLnB1c2goaSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJlc3VsdHMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGkpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cdCAgICB9O1xuXHQgIH1cblx0XSkuZmlsdGVyKCdqb2luJywgW1xuXHQgICdtYWtlQXJyYXlGaWx0ZXInLCBmdW5jdGlvbihtYWtlQXJyYXlGaWx0ZXIpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCwgc2VwKSB7XG5cdCAgICAgIHJldHVybiBtYWtlQXJyYXlGaWx0ZXIoaW5wdXQpLmpvaW4oc2VwKTtcblx0ICAgIH07XG5cdCAgfVxuXHRdKS5maWx0ZXIoJ2NvbWJpbmUnLCBbXG5cdCAgJyRwYXJzZScsIGZ1bmN0aW9uKCRwYXJzZSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgaW5wdXQsIHQsIHRyYW5zZm9ybWVycywgdmFsdWU7XG5cdCAgICAgIGlucHV0ID0gYXJndW1lbnRzWzBdLCB0cmFuc2Zvcm1lcnMgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkgOiBbXTtcblx0ICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkoaW5wdXQpKSB7XG5cdCAgICAgICAgaW5wdXQgPSBbaW5wdXRdO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiAoKGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBqLCBrLCBsZW4sIGxlbjEsIHJlc3VsdHM7XG5cdCAgICAgICAgcmVzdWx0cyA9IFtdO1xuXHQgICAgICAgIGZvciAoaiA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG5cdCAgICAgICAgICB2YWx1ZSA9IGlucHV0W2pdO1xuXHQgICAgICAgICAgZm9yIChrID0gMCwgbGVuMSA9IHRyYW5zZm9ybWVycy5sZW5ndGg7IGsgPCBsZW4xOyBrKyspIHtcblx0ICAgICAgICAgICAgdCA9IHRyYW5zZm9ybWVyc1trXTtcblx0ICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0KSkge1xuXHQgICAgICAgICAgICAgIHZhbHVlID0gdCh2YWx1ZSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgdmFsdWUgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICBzd2l0Y2ggKHQpIHtcblx0ICAgICAgICAgICAgICAgICAgY2FzZSAnPWludGVnZXInOlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgIGNhc2UgJz1mbG9hdCc6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcGFyc2UodCkodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH0pKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJlc3VsdHMucHVzaCh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXN1bHRzO1xuXHQgICAgICB9KSgpKS5yZWR1Y2UoZnVuY3Rpb24odCwgdikge1xuXHQgICAgICAgIHJldHVybiB0ICsgdjtcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHQgIH1cblx0XSkuZmlsdGVyKCdsaW1pdCcsIFtcblx0ICAnbWFrZUFycmF5RmlsdGVyJywgZnVuY3Rpb24obWFrZUFycmF5RmlsdGVyKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIHBhZ2UsIGl0ZW1zUGVyUGFnZSkge1xuXHQgICAgICB2YXIgZnJvbSwgdG87XG5cdCAgICAgIGZyb20gPSAocGFnZSAtIDEpICogaXRlbXNQZXJQYWdlO1xuXHQgICAgICB0byA9IGZyb20gKyBpdGVtc1BlclBhZ2U7XG5cdCAgICAgIHJldHVybiBtYWtlQXJyYXlGaWx0ZXIoaW5wdXQpLnNsaWNlKGZyb20sIHRvKTtcblx0ICAgIH07XG5cdCAgfVxuXHRdKS5maWx0ZXIoJ3RyaW0nLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgdmFyIGEsIGosIGxlbiwgcmVmLCByZWYxLCByZXN1bHRzO1xuXHQgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGlucHV0KSkge1xuXHQgICAgICAgIHJlc3VsdHMgPSBbXTtcblx0ICAgICAgICBmb3IgKGogPSAwLCBsZW4gPSBpbnB1dC5sZW5ndGg7IGogPCBsZW47IGorKykge1xuXHQgICAgICAgICAgYSA9IGlucHV0W2pdO1xuXHQgICAgICAgICAgcmVzdWx0cy5wdXNoKGEgIT0gbnVsbCA/IHR5cGVvZiBhLnRvU3RyaW5nID09PSBcImZ1bmN0aW9uXCIgPyAocmVmID0gYS50b1N0cmluZygpKSAhPSBudWxsID8gdHlwZW9mIHJlZi50cmltID09PSBcImZ1bmN0aW9uXCIgPyByZWYudHJpbSgpIDogdm9pZCAwIDogdm9pZCAwIDogdm9pZCAwIDogdm9pZCAwKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0eXBlb2YgaW5wdXQudG9TdHJpbmcgPT09IFwiZnVuY3Rpb25cIiA/IChyZWYxID0gaW5wdXQudG9TdHJpbmcoKSkgIT0gbnVsbCA/IHR5cGVvZiByZWYxLnRyaW0gPT09IFwiZnVuY3Rpb25cIiA/IHJlZjEudHJpbSgpIDogdm9pZCAwIDogdm9pZCAwIDogdm9pZCAwIDogdm9pZCAwO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGFuZ3VsYXIpIHsndXNlIHN0cmljdCc7XG5cdGFuZ3VsYXIubW9kdWxlKCduZ0V4dGVuZHMuZmlsdGVycy5zdHJpbmdzJywgW10pLmZpbHRlcigndHJ1c3RBcycsIFtcblx0ICAnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCwgdHlwZSkge1xuXHQgICAgICByZXR1cm4gJHNjZS50cnVzdEFzKHR5cGUsIGlucHV0KTtcblx0ICAgIH07XG5cdCAgfVxuXHRdKS5maWx0ZXIoJ3RydXN0QXNDc3MnLCBbXG5cdCAgJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG5cdCAgICByZXR1cm4gJHNjZS50cnVzdEFzQ3NzO1xuXHQgIH1cblx0XSkuZmlsdGVyKCd0cnVzdEFzSHRtbCcsIFtcblx0ICAnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcblx0ICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sO1xuXHQgIH1cblx0XSkuZmlsdGVyKCd0cnVzdEFzSnMnLCBbXG5cdCAgJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG5cdCAgICByZXR1cm4gJHNjZS50cnVzdEFzSnM7XG5cdCAgfVxuXHRdKS5maWx0ZXIoJ3RydXN0QXNSZXNvdXJjZVVybCcsIFtcblx0ICAnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcblx0ICAgIHJldHVybiAkc2NlLnRydXN0QXNSZXNvdXJjZVVybDtcblx0ICB9XG5cdF0pLmZpbHRlcigndHJ1c3RBc1VybCcsIFtcblx0ICAnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcblx0ICAgIHJldHVybiAkc2NlLnRydXN0QXNVcmw7XG5cdCAgfVxuXHRdKS5maWx0ZXIoJ3JlcGxhY2UnLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIHNlYXJjaCwgcmVwbGFjZW1lbnQsIG9wdGlvbnMpIHtcblx0ICAgICAgaWYgKCEoc2VhcmNoIGluc3RhbmNlb2YgUmVnRXhwKSkge1xuXHQgICAgICAgIHNlYXJjaCA9IG5ldyBSZWdFeHAoKHNlYXJjaCB8fCAnJykudG9TdHJpbmcoKSwgb3B0aW9ucyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIChpbnB1dCB8fCAnJykudG9TdHJpbmcoKS5yZXBsYWNlKHNlYXJjaCwgcmVwbGFjZW1lbnQpO1xuXHQgICAgfTtcblx0ICB9XG5cdF0pLmZpbHRlcignbmwyYnInLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgcmV0dXJuIChpbnB1dCB8fCAnJykudG9TdHJpbmcoKS5yZXBsYWNlKC8oXFxyXFxufFxcblxccnxcXHJ8XFxuKS9nLCAnPGJyLz4nKTtcblx0ICAgIH07XG5cdCAgfVxuXHRdKS5maWx0ZXIoJ2JyMm5sJywgW1xuXHQgIGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgIHJldHVybiAoaW5wdXQgfHwgJycpLnRvU3RyaW5nKCkucmVwbGFjZSgvKDxicj58PGJyXFwvPikvZywgJ1xcbicpO1xuXHQgICAgfTtcblx0ICB9XG5cdF0pLmZpbHRlcignc3BhY2UybmJzcCcsIFtcblx0ICBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICByZXR1cm4gKGlucHV0IHx8ICcnKS50b1N0cmluZygpLnJlcGxhY2UoL1xccy9nLCAnJm5ic3A7Jyk7XG5cdCAgICB9O1xuXHQgIH1cblx0XSkuZmlsdGVyKCduYnNwMnNwYWNlJywgW1xuXHQgIGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgIHJldHVybiAoaW5wdXQgfHwgJycpLnRvU3RyaW5nKCkucmVwbGFjZSgvJm5ic3A7L2csICcgJyk7XG5cdCAgICB9O1xuXHQgIH1cblx0XSkuZmlsdGVyKCdzcGxpdCcsIFtcblx0ICBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCwgc2VwYXJhdG9ycywgbGltaXQpIHtcblx0ICAgICAgaWYgKGlucHV0ID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQ7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0LnRvU3RyaW5nKCkuc3BsaXQobmV3IFJlZ0V4cCgoYW5ndWxhci5pc0FycmF5KHNlcGFyYXRvcnMpID8gc2VwYXJhdG9ycy5qb2luKCd8JykgOiBzZXBhcmF0b3JzKS50b1N0cmluZygpKSwgbGltaXQpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XSkuZmlsdGVyKCdjdXRzdHJpbmcnLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIG1heExlbmd0aCwgc3VmZml4KSB7XG5cdCAgICAgIHZhciBpbnB1dFN0cmluZztcblx0ICAgICAgaWYgKG1heExlbmd0aCA9PSBudWxsKSB7XG5cdCAgICAgICAgbWF4TGVuZ3RoID0gMTA7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHN1ZmZpeCA9PSBudWxsKSB7XG5cdCAgICAgICAgc3VmZml4ID0gJy4uLic7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGlucHV0ID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQ7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaW5wdXRTdHJpbmcgPSBpbnB1dC50b1N0cmluZygpO1xuXHQgICAgICAgIGlmIChpbnB1dFN0cmluZy5sZW5ndGggPiBtYXhMZW5ndGggLSBzdWZmaXgubGVuZ3RoKSB7XG5cdCAgICAgICAgICBpbnB1dFN0cmluZyA9IGlucHV0U3RyaW5nLnNsaWNlKDAsIG1heExlbmd0aCkgKyBzdWZmaXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBpbnB1dFN0cmluZztcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XG5cdF0pLmZpbHRlcigncm91bmRjdXRzdHJpbmcnLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIHNlYXJjaCwgbWF4TGVuZ3RoLCBwcmVmaXgsIHN1ZmZpeCkge1xuXHQgICAgICB2YXIgZG9DdXQsIGksIGlucHV0U3RyaW5nLCBzZWFyY2hTdHJpbmc7XG5cdCAgICAgIGlmIChtYXhMZW5ndGggPT0gbnVsbCkge1xuXHQgICAgICAgIG1heExlbmd0aCA9IDIwO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChwcmVmaXggPT0gbnVsbCkge1xuXHQgICAgICAgIHByZWZpeCA9ICcuLi4nO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChzdWZmaXggPT0gbnVsbCkge1xuXHQgICAgICAgIHN1ZmZpeCA9ICcuLi4nO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpbnB1dCA9PSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0O1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlucHV0U3RyaW5nID0gaW5wdXQudG9TdHJpbmcoKTtcblx0ICAgICAgICBzZWFyY2hTdHJpbmcgPSAoc2VhcmNoIHx8ICcnKS50b1N0cmluZygpO1xuXHQgICAgICAgIGkgPSBpbnB1dFN0cmluZy5pbmRleE9mKHNlYXJjaFN0cmluZyk7XG5cdCAgICAgICAgaWYgKGkgPT09IC0xKSB7XG5cdCAgICAgICAgICBpZiAoaW5wdXRTdHJpbmcubGVuZ3RoID4gbWF4TGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCkge1xuXHQgICAgICAgICAgICBpbnB1dFN0cmluZyA9IGlucHV0U3RyaW5nLnNsaWNlKDAsIG1heExlbmd0aCkgKyBzdWZmaXg7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gaW5wdXRTdHJpbmc7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiAoZG9DdXQgPSBmdW5jdGlvbihiZWZvcmUsIGFmdGVyLCBzdHJpbmcsIHJlc3RMZW5ndGgpIHtcblx0ICAgICAgICAgICAgdmFyIGVtcHR5T3JQcmVmaXgsIGVtcHR5T3JTdWZmaXgsIGhhbGZMZW5ndGgsIHBpZWNlT2ZBZnRlciwgcGllY2VPZkJlZm9yZSwgcmVzdE9mQWZ0ZXIsIHJlc3RPZkJlZm9yZTtcblx0ICAgICAgICAgICAgaWYgKHJlc3RMZW5ndGggPD0gMCB8fCBiZWZvcmUubGVuZ3RoID09PSAwICYmIGFmdGVyLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgICAgICAgIGVtcHR5T3JQcmVmaXggPSBiZWZvcmUubGVuZ3RoID4gMCA/IHByZWZpeCA6ICcnO1xuXHQgICAgICAgICAgICAgIGVtcHR5T3JTdWZmaXggPSBhZnRlci5sZW5ndGggPiAwID8gc3VmZml4IDogJyc7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5T3JQcmVmaXggKyBzdHJpbmcgKyBlbXB0eU9yU3VmZml4O1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGhhbGZMZW5ndGggPSByZXN0TGVuZ3RoIC8gMjtcblx0ICAgICAgICAgICAgICBpZiAoaGFsZkxlbmd0aCA8IDEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBkb0N1dChiZWZvcmUuc2xpY2UoMCwgLTEpLCBhZnRlciwgYmVmb3JlLnNsaWNlKC0xKSArIHN0cmluZywgMCk7XG5cdCAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHBpZWNlT2ZCZWZvcmUgPSBiZWZvcmUuc2xpY2UoLWhhbGZMZW5ndGgpO1xuXHQgICAgICAgICAgICAgICAgcGllY2VPZkFmdGVyID0gYWZ0ZXIuc2xpY2UoMCwgaGFsZkxlbmd0aCk7XG5cdCAgICAgICAgICAgICAgICByZXN0T2ZCZWZvcmUgPSBiZWZvcmUuc2xpY2UoMCwgLWhhbGZMZW5ndGgpO1xuXHQgICAgICAgICAgICAgICAgcmVzdE9mQWZ0ZXIgPSBhZnRlci5zbGljZShoYWxmTGVuZ3RoKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBkb0N1dChyZXN0T2ZCZWZvcmUsIHJlc3RPZkFmdGVyLCBwaWVjZU9mQmVmb3JlICsgc3RyaW5nICsgcGllY2VPZkFmdGVyLCByZXN0TGVuZ3RoIC0gcGllY2VPZkJlZm9yZS5sZW5ndGggLSBwaWVjZU9mQWZ0ZXIubGVuZ3RoKTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pKGlucHV0U3RyaW5nLnNsaWNlKDAsIGkpLCBpbnB1dFN0cmluZy5zbGljZShpICsgc2VhcmNoU3RyaW5nLmxlbmd0aCksIHNlYXJjaFN0cmluZywgbWF4TGVuZ3RoIC0gc2VhcmNoU3RyaW5nLmxlbmd0aCAtIHByZWZpeC5sZW5ndGggLSBzdWZmaXgubGVuZ3RoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfVxuXHRdKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oYW5ndWxhciwgd2luZG93KSB7J3VzZSBzdHJpY3QnO1xuXHR2YXIgc2xpY2UgPSBbXS5zbGljZTtcblx0XG5cdGFuZ3VsYXIubW9kdWxlKCduZ0V4dGVuZHMuc2VydmljZXMucGxheVJvdXRlcycsIFtdKS5wcm92aWRlcignJHBsYXlSb3V0ZXMnLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmpzUm91dGVzID0gd2luZG93LlJvdXRlcztcblx0ICAgIHRoaXMuJGdldCA9IFtcblx0ICAgICAgJyRodHRwJywgJyRsb2NhdGlvbicsIChmdW5jdGlvbihfdGhpcykge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbigkaHR0cCwgJGxvY2F0aW9uKSB7XG5cdCAgICAgICAgICB2YXIgYWRkUm91dGVzLCBwbGF5Um91dGVzLCB3cmFwSHR0cDtcblx0ICAgICAgICAgIHdyYXBIdHRwID0gZnVuY3Rpb24oZm4pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgIHZhciBhYnNvbHV0ZVVSTCwgaG9zdCwgaHR0cE1ldGhvZCwgcmVmLCByZXMsIHJvdXRlT2JqZWN0LCB1cmw7XG5cdCAgICAgICAgICAgICAgcm91dGVPYmplY3QgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgICAgIGh0dHBNZXRob2QgPSByb3V0ZU9iamVjdC5tZXRob2QudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICAgICAgICBhYnNvbHV0ZVVSTCA9IHJvdXRlT2JqZWN0LmFic29sdXRlVVJMKCk7XG5cdCAgICAgICAgICAgICAgaG9zdCA9IChyZWYgPSBhYnNvbHV0ZVVSTC5tYXRjaCgvXmh0dHBzPzpcXC9cXC8oW15cXC8/I10rKSg/OltcXC8/I118JCkvaSkpICE9IG51bGwgPyByZWZbMV0gOiB2b2lkIDA7XG5cdCAgICAgICAgICAgICAgdXJsID0gJGxvY2F0aW9uLmhvc3QoKSA9PT0gaG9zdCA/IHJvdXRlT2JqZWN0LnVybCA6IGFic29sdXRlVVJMO1xuXHQgICAgICAgICAgICAgIHJlcyA9IHtcblx0ICAgICAgICAgICAgICAgICRyb3V0ZTogcm91dGVPYmplY3QsXG5cdCAgICAgICAgICAgICAgICBtZXRob2Q6IGh0dHBNZXRob2QsXG5cdCAgICAgICAgICAgICAgICB1cmw6IHVybCxcblx0ICAgICAgICAgICAgICAgIGFic29sdXRlVVJMOiByb3V0ZU9iamVjdC5hYnNvbHV0ZVVSTCxcblx0ICAgICAgICAgICAgICAgIHdlYlNvY2tldFVSTDogcm91dGVPYmplY3Qud2ViU29ja2V0VVJMXG5cdCAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICByZXMuc2VuZCA9IHJlcy5hamF4ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgICAgICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdCAgICAgICAgICAgICAgICBvcHRpb25zLm1ldGhvZCA9IGh0dHBNZXRob2Q7XG5cdCAgICAgICAgICAgICAgICBvcHRpb25zLnVybCA9IHVybDtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cChvcHRpb25zKTtcblx0ICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgIHJlc1todHRwTWV0aG9kXSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGFqYXgsIGFyZ3M7XG5cdCAgICAgICAgICAgICAgICBhcmdzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gKGFqYXggPSAkaHR0cFtodHRwTWV0aG9kXSkuYXBwbHkoYWpheCwgW10uY29uY2F0LmNhbGwoW3VybF0sIGFyZ3MpKTtcblx0ICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgIHJldHVybiByZXM7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgICAgKGFkZFJvdXRlcyA9IGZ1bmN0aW9uKHBsYXlSb3V0ZXNPYmplY3QsIGpzUm91dGVzT2JqZWN0KSB7XG5cdCAgICAgICAgICAgIHZhciBrZXksIHZhbHVlO1xuXHQgICAgICAgICAgICBmb3IgKGtleSBpbiBqc1JvdXRlc09iamVjdCkge1xuXHQgICAgICAgICAgICAgIHZhbHVlID0ganNSb3V0ZXNPYmplY3Rba2V5XTtcblx0ICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgcGxheVJvdXRlc09iamVjdFtrZXldID0gd3JhcEh0dHAodmFsdWUpO1xuXHQgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gcGxheVJvdXRlc09iamVjdCkpIHtcblx0ICAgICAgICAgICAgICAgICAgcGxheVJvdXRlc09iamVjdFtrZXldID0ge307XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBhZGRSb3V0ZXMocGxheVJvdXRlc09iamVjdFtrZXldLCB2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KShwbGF5Um91dGVzID0ge30sIF90aGlzLmpzUm91dGVzKTtcblx0ICAgICAgICAgIHJldHVybiBwbGF5Um91dGVzO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH0pKHRoaXMpXG5cdCAgICBdO1xuXHQgIH1cblx0XSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMykpKVxuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRpZiAoIWdsb2JhbC5kb2N1bWVudCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKFwiQW5ndWxhci5leHRlbmRzIHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiKTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWw7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcbi8qIDE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oYW5ndWxhcikgeyd1c2Ugc3RyaWN0Jztcblx0YW5ndWxhci5tb2R1bGUoJ25nRXh0ZW5kcy5zZXJ2aWNlcy5zZWFyY2hGb3JtJywgW10pLmZhY3RvcnkoJyRzZWFyY2hGb3JtJywgW1xuXHQgIGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICAgICAgdmFyIFNlYXJjaEZvcm07XG5cdCAgICAgIFNlYXJjaEZvcm0gPSAoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgZnVuY3Rpb24gU2VhcmNoRm9ybShvcHRpb25zMSkge1xuXHQgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9uczE7XG5cdCAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucykpIHtcblx0ICAgICAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuXHQgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5vcHRpb25zXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7XG5cdCAgICAgICAgICAgIGRlZmF1bHRzOiB7fSxcblx0ICAgICAgICAgICAgcHJlU3VibWl0OiBmdW5jdGlvbihmb3JtLCBmaWx0ZXJzLCB1bmZpbHRlcnMpIHt9LFxuXHQgICAgICAgICAgICBwcmVSZXNldDogZnVuY3Rpb24oZm9ybSkge30sXG5cdCAgICAgICAgICAgIHN1Ym1pdDogZnVuY3Rpb24oZm9ybSwgZmlsdGVycywgdW5maWx0ZXJzKSB7fSxcblx0ICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKGZvcm0pIHt9LFxuXHQgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKGZvcm0pIHt9XG5cdCAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMpO1xuXHQgICAgICAgICAgdGhpcy5jdXJyZW50ID0gYW5ndWxhci5jb3B5KHRoaXMub3B0aW9ucy5kZWZhdWx0cykgfHwge307XG5cdCAgICAgICAgICB0aGlzLmZvcm0gPSBhbmd1bGFyLmNvcHkodGhpcy5vcHRpb25zLmRlZmF1bHRzKSB8fCB7fTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIFNlYXJjaEZvcm0ucHJvdG90eXBlLmlzUHJpc3RpbmUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIHJldHVybiBhbmd1bGFyLmVxdWFscyh0aGlzLmN1cnJlbnQsIHRoaXMuZm9ybSk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgU2VhcmNoRm9ybS5wcm90b3R5cGUuaXNEaXJ0eSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgcmV0dXJuICF0aGlzLmlzUHJpc3RpbmUoKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBTZWFyY2hGb3JtLnByb3RvdHlwZS5pc0NoYW5nZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIHJldHVybiAhYW5ndWxhci5lcXVhbHModGhpcy5jdXJyZW50LCB0aGlzLm9wdGlvbnMuZGVmYXVsdHMpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIFNlYXJjaEZvcm0ucHJvdG90eXBlLnN1Ym1pdCA9IGZ1bmN0aW9uKGZvcm0sIGZpbHRlcnMsIHVuZmlsdGVycykge1xuXHQgICAgICAgICAgdmFyIGJhc2UsIGJhc2UxLCBiYXNlMiwgaXNGaWx0ZXJlZCwga2V5LCB2YWx1ZTtcblx0ICAgICAgICAgIGlmICgodHlwZW9mIChiYXNlID0gdGhpcy5vcHRpb25zKS5wcmVTdWJtaXQgPT09IFwiZnVuY3Rpb25cIiA/IGJhc2UucHJlU3VibWl0KGZvcm0sIGZpbHRlcnMsIHVuZmlsdGVycykgOiB2b2lkIDApICE9PSBmYWxzZSkge1xuXHQgICAgICAgICAgICBpZiAoZmlsdGVycyAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgaXNGaWx0ZXJlZCA9ICgoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmVmLCByZXN1bHRzO1xuXHQgICAgICAgICAgICAgICAgcmVmID0gZmlsdGVycyB8fCB7fTtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBbXTtcblx0ICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIHJlZikge1xuXHQgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHJlZltrZXldO1xuXHQgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goW2tleSwgdmFsdWVdKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuXHQgICAgICAgICAgICAgIH0pKCkpLmV2ZXJ5KChmdW5jdGlvbihfdGhpcykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGtleVdpdGhWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICB2YXIga2V5LCB2YWx1ZTtcblx0ICAgICAgICAgICAgICAgICAga2V5ID0ga2V5V2l0aFZhbHVlWzBdLCB2YWx1ZSA9IGtleVdpdGhWYWx1ZVsxXTtcblx0ICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKF90aGlzLmZvcm1ba2V5XSwgdmFsdWUsIHRydWUpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICB9KSh0aGlzKSk7XG5cdCAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQodGhpcy5mb3JtLCBhbmd1bGFyLmNvcHkoaXNGaWx0ZXJlZCA/IHVuZmlsdGVycyA6IGZpbHRlcnMpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBhbmd1bGFyLmNvcHkodGhpcy5mb3JtKTtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiAoYmFzZTEgPSB0aGlzLm9wdGlvbnMpLnN1Ym1pdCA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgYmFzZTEuc3VibWl0KGZvcm0sIGZpbHRlcnMsIHVuZmlsdGVycyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiAoYmFzZTIgPSB0aGlzLm9wdGlvbnMpLmFjdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgYmFzZTIuYWN0aW9uKGZvcm0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBTZWFyY2hGb3JtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKGZvcm0pIHtcblx0ICAgICAgICAgIHZhciBiYXNlLCBiYXNlMSwgYmFzZTI7XG5cdCAgICAgICAgICBpZiAoKHR5cGVvZiAoYmFzZSA9IHRoaXMub3B0aW9ucykucHJlUmVzZXQgPT09IFwiZnVuY3Rpb25cIiA/IGJhc2UucHJlUmVzZXQoZm9ybSkgOiB2b2lkIDApICE9PSBmYWxzZSkge1xuXHQgICAgICAgICAgICBpZiAoZm9ybSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmb3JtLiRzZXRQcmlzdGluZSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgICBmb3JtLiRzZXRQcmlzdGluZSgpO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBhbmd1bGFyLmNvcHkodGhpcy5vcHRpb25zLmRlZmF1bHRzKSB8fCB7fTtcblx0ICAgICAgICAgICAgdGhpcy5mb3JtID0gYW5ndWxhci5jb3B5KHRoaXMub3B0aW9ucy5kZWZhdWx0cykgfHwge307XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgKGJhc2UxID0gdGhpcy5vcHRpb25zKS5yZXNldCA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgYmFzZTEucmVzZXQoZm9ybSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiAoYmFzZTIgPSB0aGlzLm9wdGlvbnMpLmFjdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgYmFzZTIuYWN0aW9uKGZvcm0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBTZWFyY2hGb3JtLnByb3RvdHlwZS5wYXJhbXMgPSBmdW5jdGlvbihyZWZyZXNoLCBkZWZhdWx0cykge1xuXHQgICAgICAgICAgdmFyIGtleSwgcGFyYW1zLCByZWYsIHZhbHVlO1xuXHQgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3QocmVmcmVzaCkpIHtcblx0ICAgICAgICAgICAgcmVmID0gW3JlZnJlc2gsIGZhbHNlXSwgZGVmYXVsdHMgPSByZWZbMF0sIHJlZnJlc2ggPSByZWZbMV07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBwYXJhbXMgPSByZWZyZXNoID09PSB0cnVlID8gYW5ndWxhci5jb3B5KHRoaXMuY3VycmVudCkgOiBhbmd1bGFyLmNvcHkodGhpcy5mb3JtID0gYW5ndWxhci5jb3B5KHRoaXMuY3VycmVudCkpO1xuXHQgICAgICAgICAgZm9yIChrZXkgaW4gdGhpcy5vcHRpb25zLmRlZmF1bHRzKSB7XG5cdCAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkocGFyYW1zW2tleV0pKSB7XG5cdCAgICAgICAgICAgICAgcGFyYW1zW2tleV0gPSBwYXJhbXNba2V5XS5maWx0ZXIoZnVuY3Rpb24oYSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICEhYTtcblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcGFyYW1zID0gYW5ndWxhci5leHRlbmQocGFyYW1zLCBhbmd1bGFyLmNvcHkoZGVmYXVsdHMpKTtcblx0ICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLnRyYW5zZm9ybSkpIHtcblx0ICAgICAgICAgICAgZm9yIChrZXkgaW4gcGFyYW1zKSB7XG5cdCAgICAgICAgICAgICAgdmFsdWUgPSBwYXJhbXNba2V5XTtcblx0ICAgICAgICAgICAgICBwYXJhbXNba2V5XSA9IHRoaXMub3B0aW9ucy50cmFuc2Zvcm0oa2V5LCB2YWx1ZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiBwYXJhbXM7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgcmV0dXJuIFNlYXJjaEZvcm07XG5cdFxuXHQgICAgICB9KSgpO1xuXHQgICAgICByZXR1cm4gbmV3IFNlYXJjaEZvcm0ob3B0aW9ucyk7XG5cdCAgICB9O1xuXHQgIH1cblx0XSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
