!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n(require("angular"));else if("function"==typeof define&&define.amd)define(["angular"],n);else{var e=n("object"==typeof exports?require("angular"):t.angular);for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}(this,function(t){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){(function(t){"use strict";e(3),e(4),e(5),e(6),e(7),e(8),e(9),e(10),e(11),e(12),e(14),t.module("ngExtends.directives",["ngExtends.directives.countTo","ngExtends.directives.domInit","ngExtends.directives.focusMe","ngExtends.directives.lower","ngExtends.directives.repeatDone","ngExtends.directives.rotate2d","ngExtends.directives.upper"]),t.module("ngExtends.filters",["ngExtends.filters.arrays","ngExtends.filters.strings"]),t.module("ngExtends.services",["ngExtends.services.playRoutes","ngExtends.services.searchForm"]),t.module("ngExtends",["ngExtends.directives","ngExtends.filters","ngExtends.services"])}).call(n,e(1))},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=e(2),o=r(i);if(!$)throw new Error("Angular.extends requires a AngularJS");t.exports=o["default"]},function(n,e){n.exports=t},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.countTo",[]).directive("exCountTo",["$timeout",function(t){return{replace:!1,scope:!0,link:function(n,e,r){var i,o,u,s,c,l,f,a,p,d;u=e[0],c=null,l=null,p=null,a=null,o=null,s=null,i=function(){var t;l=30,a=0,n.timoutId=null,o=parseInt(r.exCountTo)||0,n.value=parseInt(r.value,10)||0,t=1e3*parseFloat(r.duration)||0,p=Math.ceil(t/l),s=(o-n.value)/p,c=n.value},d=function(){n.timoutId=t(function(){return c+=s,a++,a>=p?(t.cancel(n.timoutId),c=o,u.textContent=o):(u.textContent=Math.round(c),d())},l)},f=function(){null!=n.timoutId&&t.cancel(n.timoutId),i(),d()},r.$observe("exCountTo",function(t){return null!=t?f():void 0}),r.$observe("value",function(){return f()})}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.domInit",[]).directive("exDomInit",[function(){return{restrict:"A",link:function(t,n,e){e.$observe("exDomInit",function(e){var r;return"function"==typeof(r=t.$eval(e))?r(n):void 0})}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.focusMe",[]).directive("exFocusMe",[function(){return{scope:{trigger:"=exFocusMe"},link:function(t,n){t.$watch("trigger",function(e){var r;"boolean"==typeof e&&("function"==typeof n[r=e?"focus":"blur"]&&n[r](),t.trigger=null)})}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.lower",[]).directive("exLower",[function(){return{require:"ngModel",link:function(t,n,e,r){var i;i=function(t){var e,i,o,u;return o=t?t.toLowerCase():t,o!==t&&(e=n[0],u=e.selectionStart,i=e.selectionEnd,r.$setViewValue(o),r.$render(),"function"==typeof e.setSelectionRange&&e.setSelectionRange(u,i)),o},r.$parsers.push(i),i(t[e.ngModel])}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.repeatDone",[]).directive("exRepeatDone",[function(){return{restrict:"A",link:function(t,n,e){null==e.ngRepeat&&null==e.ngRepeatStart||!t.$last||e.$observe("exRepeatDone",function(e){var r;return"function"==typeof(r=t.$eval(e))?r(n):void 0})}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.rotate2d",[]).directive("exRotate2d",[function(){return{scope:{value:"=exRotate2d",limit:"=",angle:"="},link:function(t,n){t.$watchCollection("[value, limit, angle]",function(t){var e,r,i,o;o=t[0]||0,i=t[1]||10,e=t[2]||360,r=o*e/i,n.css({"-webkit-transform":"rotate("+r+"deg)","-moz-transform":"rotate("+r+"deg)",transform:"rotate("+r+"deg)"})})}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.directives.upper",[]).directive("exUpper",[function(){return{require:"ngModel",link:function(t,n,e,r){var i;i=function(t){var e,i,o,u;return u=t?t.toUpperCase():t,u!==t&&(e=n[0],o=e.selectionStart,i=e.selectionEnd,r.$setViewValue(u),r.$render(),"function"==typeof e.setSelectionRange&&e.setSelectionRange(o,i)),u},r.$parsers.push(i),i(t[e.ngModel])}}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";var n=[].slice;t.module("ngExtends.filters.arrays",[]).filter("makeArray",[function(){return function(n){return t.isArray(n)?n:$.makeArray(n)}}]).filter("range",[function(){return function(t,n,e){var r,i,o,u,s,c,l,f,a;for(null==e&&(e=1),u="number"==typeof t&&"number"==typeof n,r=u?t:t.toString().charCodeAt(0),i=u?n:n.toString().charCodeAt(0),a=[],o=s=c=r,l=i,f=r>i?-e:e;f>0?l>=s:s>=l;o=s+=f)u?a.push(o):a.push(String.fromCharCode(o));return a}}]).filter("join",[function(){return function(t,n){return $.makeArray(t).join(n)}}]).filter("combine",["$parse",function(e){return function(){var r,i,o,u;return r=arguments[0],o=2<=arguments.length?n.call(arguments,1):[],t.isArray(r)||(r=[r]),function(){var n,s,c,l,f;for(f=[],n=0,c=r.length;c>n;n++){for(u=r[n],s=0,l=o.length;l>s;s++)i=o[s],t.isFunction(i)?u=i(u):"string"==typeof i&&(u=function(){switch(i){case"=integer":return parseInt(u);case"=float":return parseFloat(u);default:return e(i)(u)}}());f.push(u)}return f}().reduce(function(t,n){return t+n})}}]).filter("limit",[function(){return function(t,n,e){var r,i;return r=(n-1)*e,i=r+e,$.makeArray(t).slice(r,i)}}]).filter("trim",[function(){return function(n){var e,r,i,o,u,s;if(t.isArray(n)){for(s=[],r=0,i=n.length;i>r;r++)e=n[r],s.push(null!=e&&"function"==typeof e.toString&&null!=(o=e.toString())&&"function"==typeof o.trim?o.trim():void 0);return s}return null!=n&&"function"==typeof n.toString&&null!=(u=n.toString())&&"function"==typeof u.trim?u.trim():void 0}}])}).call(n,e(1))},function(t,n,e){(function(t){"use strict";t.module("ngExtends.filters.strings",[]).filter("trustAs",["$sce",function(t){return function(n,e){return t.trustAs(e,n)}}]).filter("trustAsCss",["$sce",function(t){return t.trustAsCss}]).filter("trustAsHtml",["$sce",function(t){return t.trustAsHtml}]).filter("trustAsJs",["$sce",function(t){return t.trustAsJs}]).filter("trustAsResourceUrl",["$sce",function(t){return t.trustAsResourceUrl}]).filter("trustAsUrl",["$sce",function(t){return t.trustAsUrl}]).filter("replace",[function(){return function(t,n,e,r){return n instanceof RegExp||(n=new RegExp((n||"").toString(),r)),(t||"").toString().replace(n,e)}}]).filter("nl2br",[function(){return function(t){return(t||"").toString().replace(/(\r\n|\n\r|\r|\n)/g,"<br/>")}}]).filter("br2nl",[function(){return function(t){return(t||"").toString().replace(/(<br>|<br\/>)/g,"\n")}}]).filter("space2nbsp",[function(){return function(t){return(t||"").toString().replace(/\s/g,"&nbsp;")}}]).filter("nbsp2space",[function(){return function(t){return(t||"").toString().replace(/&nbsp;/g," ")}}]).filter("split",[function(){return function(n,e,r){return null==n?n:n.toString().split(new RegExp((t.isArray(e)?e.join("|"):e).toString()),r)}}]).filter("cutstring",[function(){return function(t,n,e){var r;return null==n&&(n=10),null==e&&(e="..."),null==t?t:(r=t.toString(),r.length>n-e.length&&(r=r.slice(0,n)+e),r)}}]).filter("roundcutstring",[function(){return function(t,n,e,r,i){var o,u,s,c;return null==e&&(e=20),null==r&&(r="..."),null==i&&(i="..."),null==t?t:(s=t.toString(),c=(n||"").toString(),u=s.indexOf(c),-1===u?(s.length>e-i.length&&(s=s.slice(0,e)+i),s):(o=function(t,n,e,u){var s,c,l,f,a,p,d;return 0>=u||0===t.length&&0===n.length?(s=t.length>0?r:"",c=n.length>0?i:"",s+e+c):(l=u/2,1>l?o(t.slice(0,-1),n,t.slice(-1)+e,0):(a=t.slice(-l),f=n.slice(0,l),d=t.slice(0,-l),p=n.slice(l),o(d,p,a+e+f,u-a.length-f.length)))})(s.slice(0,u),s.slice(u+c.length),c,e-c.length-r.length-i.length))}}])}).call(n,e(1))},function(t,n,e){(function(t,n){"use strict";var e=[].slice;t.module("ngExtends.services.playRoutes",[]).provider("$playRoutes",[function(){this.jsRoutes=n.Routes,this.$get=["$http","$location",function(n){return function(r,i){var o,u,s;return s=function(t){return function(){var n,o,u,s,c,l,f;return l=t.apply(this,arguments),u=l.method.toLowerCase(),n=l.absoluteURL(),o=null!=(s=n.match(/^https?:\/\/([^\/?#]+)(?:[\/?#]|$)/i))?s[1]:void 0,f=i.host()===o?l.url:n,c={$route:l,method:u,url:f,absoluteURL:l.absoluteURL,webSocketURL:l.webSocketURL},c.ajax=function(t){return t=t||{},t.method=u,t.url=f,r(t)},c[u]=function(){var t,n;return n=1<=arguments.length?e.call(arguments,0):[],(t=r[u]).apply(t,[].concat.call([f],n))},c}},(o=function(n,e){var r,i;for(r in e)i=e[r],t.isFunction(i)?n[r]=s(i):(r in n||(n[r]={}),o(n[r],i))})(u={},n.jsRoutes),u}}(this)]}])}).call(n,e(1),e(13))},function(t,n){(function(n){"use strict";if(!n.document)throw new Error("Angular.extends requires a window with a document");t.exports=n}).call(n,function(){return this}())},function(t,n,e){(function(t){"use strict";t.module("ngExtends.services.searchForm",[]).factory("$searchForm",[function(){return function(n){var e;return new(e=function(){function n(n){this.options=n,t.isFunction(this.options)&&(this.options={action:this.options}),this.options=t.extend({defaults:{},preSubmit:function(t,n,e){},preReset:function(t){},submit:function(t,n,e){},reset:function(t){},action:function(t){}},this.options),this.current=t.copy(this.options.defaults)||{},this.form=t.copy(this.options.defaults)||{}}return n.prototype.isPristine=function(){return t.equals(this.current,this.form)},n.prototype.isDirty=function(){return!this.isPristine()},n.prototype.isChanged=function(){return!t.equals(this.current,this.options.defaults)},n.prototype.submit=function(n,e,r){var i,o,u,s,c,l;return("function"==typeof(i=this.options).preSubmit?i.preSubmit(n,e,r):void 0)!==!1&&(null!=e&&(s=function(){var t,n;t=e||{},n=[];for(c in t)l=t[c],n.push([c,l]);return n}().every(function(n){return function(e){var r,i;return r=e[0],i=e[1],t.equals(n.form[r],i,!0)}}(this)),t.extend(this.form,t.copy(s?r:e))),this.current=t.copy(this.form),"function"==typeof(o=this.options).submit&&o.submit(n,e,r),"function"==typeof(u=this.options).action&&u.action(n)),this},n.prototype.reset=function(n){var e,r,i;return("function"==typeof(e=this.options).preReset?e.preReset(n):void 0)!==!1&&(null!=n&&"function"==typeof n.$setPristine&&n.$setPristine(),this.current=t.copy(this.options.defaults)||{},this.form=t.copy(this.options.defaults)||{},"function"==typeof(r=this.options).reset&&r.reset(n),"function"==typeof(i=this.options).action&&i.action(n)),this},n.prototype.params=function(n,e){var r,i,o,u;t.isObject(n)&&(o=[n,!1],e=o[0],n=o[1]),i=n===!0?t.copy(this.current):t.copy(this.form=t.copy(this.current));for(r in this.options.defaults)t.isArray(i[r])&&(i[r]=i[r].filter(function(t){return!!t}));if(i=t.extend(i,t.copy(e)),t.isFunction(this.options.transform))for(r in i)u=i[r],i[r]=this.options.transform(r,u);return i},n}())(n)}}])}).call(n,e(1))}])});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXItZXh0ZW5kcy5taW4uanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsImEiLCJpIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJhbmd1bGFyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2FuZ3VsYXIiLCJfYW5ndWxhcjIiLCIkIiwiRXJyb3IiLCJkaXJlY3RpdmUiLCIkdGltZW91dCIsInJlcGxhY2UiLCJzY29wZSIsImxpbmsiLCJlbGVtZW50IiwiYXR0cnMiLCJjYWxjdWxhdGUiLCJjb3VudFRvIiwiZWxlbSIsImluY3JlbWVudCIsIm51bSIsInJlZnJlc2hJbnRlcnZhbCIsInN0YXJ0Iiwic3RlcCIsInN0ZXBzIiwidGljayIsImR1cmF0aW9uIiwidGltb3V0SWQiLCJwYXJzZUludCIsImV4Q291bnRUbyIsInZhbHVlIiwicGFyc2VGbG9hdCIsIk1hdGgiLCJjZWlsIiwiY2FuY2VsIiwidGV4dENvbnRlbnQiLCJyb3VuZCIsIiRvYnNlcnZlIiwidmFsIiwicmVzdHJpY3QiLCJiYXNlIiwiJGV2YWwiLCJ0cmlnZ2VyIiwiJHdhdGNoIiwibmFtZSIsIm1vZGVsQ3RybCIsInRvTG93ZXIiLCJpbnB1dFZhbHVlIiwiZW5kIiwibG93ZXJlZCIsInRvTG93ZXJDYXNlIiwic2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25FbmQiLCIkc2V0Vmlld1ZhbHVlIiwiJHJlbmRlciIsInNldFNlbGVjdGlvblJhbmdlIiwiJHBhcnNlcnMiLCJwdXNoIiwibmdNb2RlbCIsIm5nUmVwZWF0IiwibmdSZXBlYXRTdGFydCIsIiRsYXN0IiwibGltaXQiLCJhbmdsZSIsIiR3YXRjaENvbGxlY3Rpb24iLCJ2YWx1ZXMiLCJkZWdyZWUiLCJjc3MiLCItd2Via2l0LXRyYW5zZm9ybSIsIi1tb3otdHJhbnNmb3JtIiwidHJhbnNmb3JtIiwidG9VcHBlciIsInVwcGVyZWQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiZmlsdGVyIiwiaW5wdXQiLCJpc0FycmF5IiwibWFrZUFycmF5IiwiZnJvbSIsInRvIiwiYmVnaW4iLCJpc051bWJlciIsImoiLCJyZWYiLCJyZWYxIiwicmVmMiIsInJlc3VsdHMiLCJ0b1N0cmluZyIsImNoYXJDb2RlQXQiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJzZXAiLCJqb2luIiwiJHBhcnNlIiwidCIsInRyYW5zZm9ybWVycyIsImFyZ3VtZW50cyIsImxlbmd0aCIsImsiLCJsZW4iLCJsZW4xIiwiaXNGdW5jdGlvbiIsInJlZHVjZSIsInYiLCJwYWdlIiwiaXRlbXNQZXJQYWdlIiwidHJpbSIsIiRzY2UiLCJ0eXBlIiwidHJ1c3RBcyIsInRydXN0QXNDc3MiLCJ0cnVzdEFzSHRtbCIsInRydXN0QXNKcyIsInRydXN0QXNSZXNvdXJjZVVybCIsInRydXN0QXNVcmwiLCJzZWFyY2giLCJyZXBsYWNlbWVudCIsIm9wdGlvbnMiLCJSZWdFeHAiLCJzZXBhcmF0b3JzIiwic3BsaXQiLCJtYXhMZW5ndGgiLCJzdWZmaXgiLCJpbnB1dFN0cmluZyIsInByZWZpeCIsImRvQ3V0Iiwic2VhcmNoU3RyaW5nIiwiaW5kZXhPZiIsImJlZm9yZSIsImFmdGVyIiwic3RyaW5nIiwicmVzdExlbmd0aCIsImVtcHR5T3JQcmVmaXgiLCJlbXB0eU9yU3VmZml4IiwiaGFsZkxlbmd0aCIsInBpZWNlT2ZBZnRlciIsInBpZWNlT2ZCZWZvcmUiLCJyZXN0T2ZBZnRlciIsInJlc3RPZkJlZm9yZSIsIndpbmRvdyIsInByb3ZpZGVyIiwianNSb3V0ZXMiLCJSb3V0ZXMiLCIkZ2V0IiwiX3RoaXMiLCIkaHR0cCIsIiRsb2NhdGlvbiIsImFkZFJvdXRlcyIsInBsYXlSb3V0ZXMiLCJ3cmFwSHR0cCIsImZuIiwiYWJzb2x1dGVVUkwiLCJob3N0IiwiaHR0cE1ldGhvZCIsInJlcyIsInJvdXRlT2JqZWN0IiwidXJsIiwiYXBwbHkiLCJtZXRob2QiLCJtYXRjaCIsIiRyb3V0ZSIsIndlYlNvY2tldFVSTCIsImFqYXgiLCJhcmdzIiwiY29uY2F0IiwicGxheVJvdXRlc09iamVjdCIsImpzUm91dGVzT2JqZWN0Iiwia2V5IiwiZ2xvYmFsIiwiZG9jdW1lbnQiLCJTZWFyY2hGb3JtIiwib3B0aW9uczEiLCJhY3Rpb24iLCJleHRlbmQiLCJkZWZhdWx0cyIsInByZVN1Ym1pdCIsImZvcm0iLCJmaWx0ZXJzIiwidW5maWx0ZXJzIiwicHJlUmVzZXQiLCJzdWJtaXQiLCJyZXNldCIsImN1cnJlbnQiLCJjb3B5IiwicHJvdG90eXBlIiwiaXNQcmlzdGluZSIsImVxdWFscyIsImlzRGlydHkiLCJpc0NoYW5nZWQiLCJiYXNlMSIsImJhc2UyIiwiaXNGaWx0ZXJlZCIsImV2ZXJ5Iiwia2V5V2l0aFZhbHVlIiwiJHNldFByaXN0aW5lIiwicGFyYW1zIiwicmVmcmVzaCIsImlzT2JqZWN0Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDaEQsR0FBc0IsZ0JBQVpDLFVBQTBDLGdCQUFYQyxRQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxnQkFDN0IsSUFBcUIsa0JBQVhDLFNBQXlCQSxPQUFPQyxJQUM5Q0QsUUFBUSxXQUFZSixPQUNoQixDQUNKLEdBQUlNLEdBQWtDTixFQUFYLGdCQUFaQyxTQUErQkUsUUFBUSxXQUFzQkosRUFBYyxRQUMxRixLQUFJLEdBQUlRLEtBQUtELElBQXVCLGdCQUFaTCxTQUF1QkEsUUFBVUYsR0FBTVEsR0FBS0QsRUFBRUMsS0FFckVDLEtBQU0sU0FBU0MsR0FDbEIsTUFBZ0IsVUFBVUMsR0FLaEIsUUFBU0MsR0FBb0JDLEdBRzVCLEdBQUdDLEVBQWlCRCxHQUNuQixNQUFPQyxHQUFpQkQsR0FBVVgsT0FH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QUFLMUksRUFHOUMsT0FBT3NLLElBR0Z6QixNQUdhckQsU0FLQzFILEtBQUtmLEVBQVNVLEVBQW9CIiwiZmlsZSI6ImFuZ3VsYXItZXh0ZW5kcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJhbmd1bGFyXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcImFuZ3VsYXJcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGZhY3RvcnkocmVxdWlyZShcImFuZ3VsYXJcIikpIDogZmFjdG9yeShyb290W1wiYW5ndWxhclwiXSk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGFuZ3VsYXIpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdFxuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzLmRpcmVjdGl2ZXMnLCBbJ25nRXh0ZW5kcy5kaXJlY3RpdmVzLmNvdW50VG8nLCAnbmdFeHRlbmRzLmRpcmVjdGl2ZXMuZG9tSW5pdCcsICduZ0V4dGVuZHMuZGlyZWN0aXZlcy5mb2N1c01lJywgJ25nRXh0ZW5kcy5kaXJlY3RpdmVzLmxvd2VyJywgJ25nRXh0ZW5kcy5kaXJlY3RpdmVzLnJlcGVhdERvbmUnLCAnbmdFeHRlbmRzLmRpcmVjdGl2ZXMucm90YXRlMmQnLCAnbmdFeHRlbmRzLmRpcmVjdGl2ZXMudXBwZXInXSk7XG5cdFxuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzLmZpbHRlcnMnLCBbJ25nRXh0ZW5kcy5maWx0ZXJzLmFycmF5cycsICduZ0V4dGVuZHMuZmlsdGVycy5zdHJpbmdzJ10pO1xuXHRcblx0YW5ndWxhci5tb2R1bGUoJ25nRXh0ZW5kcy5zZXJ2aWNlcycsIFsnbmdFeHRlbmRzLnNlcnZpY2VzLnBsYXlSb3V0ZXMnLCAnbmdFeHRlbmRzLnNlcnZpY2VzLnNlYXJjaEZvcm0nXSk7XG5cdFxuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzJywgWyduZ0V4dGVuZHMuZGlyZWN0aXZlcycsICduZ0V4dGVuZHMuZmlsdGVycycsICduZ0V4dGVuZHMuc2VydmljZXMnXSk7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfYW5ndWxhciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2FuZ3VsYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5ndWxhcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0aWYgKCEkKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbmd1bGFyLmV4dGVuZHMgcmVxdWlyZXMgYSBBbmd1bGFySlNcIik7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX2FuZ3VsYXIyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fO1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGFuZ3VsYXIpIHsndXNlIHN0cmljdCc7XG5cdGFuZ3VsYXIubW9kdWxlKCduZ0V4dGVuZHMuZGlyZWN0aXZlcy5jb3VudFRvJywgW10pLmRpcmVjdGl2ZSgnZXhDb3VudFRvJywgW1xuXHQgICckdGltZW91dCcsIGZ1bmN0aW9uKCR0aW1lb3V0KSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICByZXBsYWNlOiBmYWxzZSxcblx0ICAgICAgc2NvcGU6IHRydWUsXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXHQgICAgICAgIHZhciBjYWxjdWxhdGUsIGNvdW50VG8sIGVsZW0sIGluY3JlbWVudCwgbnVtLCByZWZyZXNoSW50ZXJ2YWwsIHN0YXJ0LCBzdGVwLCBzdGVwcywgdGljaztcblx0ICAgICAgICBlbGVtID0gZWxlbWVudFswXTtcblx0ICAgICAgICBudW0gPSBudWxsO1xuXHQgICAgICAgIHJlZnJlc2hJbnRlcnZhbCA9IG51bGw7XG5cdCAgICAgICAgc3RlcHMgPSBudWxsO1xuXHQgICAgICAgIHN0ZXAgPSBudWxsO1xuXHQgICAgICAgIGNvdW50VG8gPSBudWxsO1xuXHQgICAgICAgIGluY3JlbWVudCA9IG51bGw7XG5cdCAgICAgICAgY2FsY3VsYXRlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICB2YXIgZHVyYXRpb247XG5cdCAgICAgICAgICByZWZyZXNoSW50ZXJ2YWwgPSAzMDtcblx0ICAgICAgICAgIHN0ZXAgPSAwO1xuXHQgICAgICAgICAgc2NvcGUudGltb3V0SWQgPSBudWxsO1xuXHQgICAgICAgICAgY291bnRUbyA9IHBhcnNlSW50KGF0dHJzLmV4Q291bnRUbykgfHwgMDtcblx0ICAgICAgICAgIHNjb3BlLnZhbHVlID0gcGFyc2VJbnQoYXR0cnMudmFsdWUsIDEwKSB8fCAwO1xuXHQgICAgICAgICAgZHVyYXRpb24gPSAocGFyc2VGbG9hdChhdHRycy5kdXJhdGlvbikgKiAxMDAwKSB8fCAwO1xuXHQgICAgICAgICAgc3RlcHMgPSBNYXRoLmNlaWwoZHVyYXRpb24gLyByZWZyZXNoSW50ZXJ2YWwpO1xuXHQgICAgICAgICAgaW5jcmVtZW50ID0gKGNvdW50VG8gLSBzY29wZS52YWx1ZSkgLyBzdGVwcztcblx0ICAgICAgICAgIG51bSA9IHNjb3BlLnZhbHVlO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgdGljayA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgc2NvcGUudGltb3V0SWQgPSAkdGltZW91dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgbnVtICs9IGluY3JlbWVudDtcblx0ICAgICAgICAgICAgc3RlcCsrO1xuXHQgICAgICAgICAgICBpZiAoc3RlcCA+PSBzdGVwcykge1xuXHQgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChzY29wZS50aW1vdXRJZCk7XG5cdCAgICAgICAgICAgICAgbnVtID0gY291bnRUbztcblx0ICAgICAgICAgICAgICByZXR1cm4gZWxlbS50ZXh0Q29udGVudCA9IGNvdW50VG87XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZWxlbS50ZXh0Q29udGVudCA9IE1hdGgucm91bmQobnVtKTtcblx0ICAgICAgICAgICAgICByZXR1cm4gdGljaygpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9LCByZWZyZXNoSW50ZXJ2YWwpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIGlmIChzY29wZS50aW1vdXRJZCAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChzY29wZS50aW1vdXRJZCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBjYWxjdWxhdGUoKTtcblx0ICAgICAgICAgIHRpY2soKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIGF0dHJzLiRvYnNlcnZlKCdleENvdW50VG8nLCBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICAgIGlmICh2YWwgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RhcnQoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICBhdHRycy4kb2JzZXJ2ZSgndmFsdWUnLCBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIHJldHVybiBzdGFydCgpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oYW5ndWxhcikgeyd1c2Ugc3RyaWN0Jztcblx0YW5ndWxhci5tb2R1bGUoJ25nRXh0ZW5kcy5kaXJlY3RpdmVzLmRvbUluaXQnLCBbXSkuZGlyZWN0aXZlKCdleERvbUluaXQnLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICByZXN0cmljdDogJ0EnLFxuXHQgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblx0ICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZXhEb21Jbml0JywgZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgIHZhciBiYXNlO1xuXHQgICAgICAgICAgcmV0dXJuIHR5cGVvZiAoYmFzZSA9IHNjb3BlLiRldmFsKHZhbHVlKSkgPT09IFwiZnVuY3Rpb25cIiA/IGJhc2UoZWxlbWVudCkgOiB2b2lkIDA7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfVxuXHRdKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihhbmd1bGFyKSB7J3VzZSBzdHJpY3QnO1xuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzLmRpcmVjdGl2ZXMuZm9jdXNNZScsIFtdKS5kaXJlY3RpdmUoJ2V4Rm9jdXNNZScsIFtcblx0ICBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHNjb3BlOiB7XG5cdCAgICAgICAgdHJpZ2dlcjogJz1leEZvY3VzTWUnXG5cdCAgICAgIH0sXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50KSB7XG5cdCAgICAgICAgc2NvcGUuJHdhdGNoKCd0cmlnZ2VyJywgZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgIHZhciBuYW1lO1xuXHQgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudFtuYW1lID0gdmFsdWUgPyAnZm9jdXMnIDogJ2JsdXInXSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgZWxlbWVudFtuYW1lXSgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHNjb3BlLnRyaWdnZXIgPSBudWxsO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oYW5ndWxhcikgeyd1c2Ugc3RyaWN0Jztcblx0YW5ndWxhci5tb2R1bGUoJ25nRXh0ZW5kcy5kaXJlY3RpdmVzLmxvd2VyJywgW10pLmRpcmVjdGl2ZSgnZXhMb3dlcicsIFtcblx0ICBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcblx0ICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBtb2RlbEN0cmwpIHtcblx0ICAgICAgICB2YXIgdG9Mb3dlcjtcblx0ICAgICAgICB0b0xvd2VyID0gZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xuXHQgICAgICAgICAgdmFyIGVsZW0sIGVuZCwgbG93ZXJlZCwgc3RhcnQ7XG5cdCAgICAgICAgICBsb3dlcmVkID0gaW5wdXRWYWx1ZSA/IGlucHV0VmFsdWUudG9Mb3dlckNhc2UoKSA6IGlucHV0VmFsdWU7XG5cdCAgICAgICAgICBpZiAobG93ZXJlZCAhPT0gaW5wdXRWYWx1ZSkge1xuXHQgICAgICAgICAgICBlbGVtID0gZWxlbWVudFswXTtcblx0ICAgICAgICAgICAgc3RhcnQgPSBlbGVtLnNlbGVjdGlvblN0YXJ0O1xuXHQgICAgICAgICAgICBlbmQgPSBlbGVtLnNlbGVjdGlvbkVuZDtcblx0ICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobG93ZXJlZCk7XG5cdCAgICAgICAgICAgIG1vZGVsQ3RybC4kcmVuZGVyKCk7XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbS5zZXRTZWxlY3Rpb25SYW5nZSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgZWxlbS5zZXRTZWxlY3Rpb25SYW5nZShzdGFydCwgZW5kKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmV0dXJuIGxvd2VyZWQ7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBtb2RlbEN0cmwuJHBhcnNlcnMucHVzaCh0b0xvd2VyKTtcblx0ICAgICAgICB0b0xvd2VyKHNjb3BlW2F0dHJzLm5nTW9kZWxdKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XG5cdF0pO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGFuZ3VsYXIpIHsndXNlIHN0cmljdCc7XG5cdGFuZ3VsYXIubW9kdWxlKCduZ0V4dGVuZHMuZGlyZWN0aXZlcy5yZXBlYXREb25lJywgW10pLmRpcmVjdGl2ZSgnZXhSZXBlYXREb25lJywgW1xuXHQgIGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVzdHJpY3Q6ICdBJyxcblx0ICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cdCAgICAgICAgaWYgKCgoYXR0cnMubmdSZXBlYXQgIT0gbnVsbCkgfHwgKGF0dHJzLm5nUmVwZWF0U3RhcnQgIT0gbnVsbCkpICYmIHNjb3BlLiRsYXN0KSB7XG5cdCAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZXhSZXBlYXREb25lJywgZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgdmFyIGJhc2U7XG5cdCAgICAgICAgICAgIHJldHVybiB0eXBlb2YgKGJhc2UgPSBzY29wZS4kZXZhbCh2YWx1ZSkpID09PSBcImZ1bmN0aW9uXCIgPyBiYXNlKGVsZW1lbnQpIDogdm9pZCAwO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oYW5ndWxhcikgeyd1c2Ugc3RyaWN0Jztcblx0YW5ndWxhci5tb2R1bGUoJ25nRXh0ZW5kcy5kaXJlY3RpdmVzLnJvdGF0ZTJkJywgW10pLmRpcmVjdGl2ZSgnZXhSb3RhdGUyZCcsIFtcblx0ICBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHNjb3BlOiB7XG5cdCAgICAgICAgdmFsdWU6ICc9ZXhSb3RhdGUyZCcsXG5cdCAgICAgICAgbGltaXQ6ICc9Jyxcblx0ICAgICAgICBhbmdsZTogJz0nXG5cdCAgICAgIH0sXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50KSB7XG5cdCAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignW3ZhbHVlLCBsaW1pdCwgYW5nbGVdJywgZnVuY3Rpb24odmFsdWVzKSB7XG5cdCAgICAgICAgICB2YXIgYW5nbGUsIGRlZ3JlZSwgbGltaXQsIHZhbHVlO1xuXHQgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbMF0gfHwgMDtcblx0ICAgICAgICAgIGxpbWl0ID0gdmFsdWVzWzFdIHx8IDEwO1xuXHQgICAgICAgICAgYW5nbGUgPSB2YWx1ZXNbMl0gfHwgMzYwO1xuXHQgICAgICAgICAgZGVncmVlID0gdmFsdWUgKiBhbmdsZSAvIGxpbWl0O1xuXHQgICAgICAgICAgZWxlbWVudC5jc3Moe1xuXHQgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAncm90YXRlKCcgKyBkZWdyZWUgKyAnZGVnKScsXG5cdCAgICAgICAgICAgICctbW96LXRyYW5zZm9ybSc6ICdyb3RhdGUoJyArIGRlZ3JlZSArICdkZWcpJyxcblx0ICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICdyb3RhdGUoJyArIGRlZ3JlZSArICdkZWcpJ1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfVxuXHRdKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihhbmd1bGFyKSB7J3VzZSBzdHJpY3QnO1xuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzLmRpcmVjdGl2ZXMudXBwZXInLCBbXSkuZGlyZWN0aXZlKCdleFVwcGVyJywgW1xuXHQgIGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuXHQgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG1vZGVsQ3RybCkge1xuXHQgICAgICAgIHZhciB0b1VwcGVyO1xuXHQgICAgICAgIHRvVXBwZXIgPSBmdW5jdGlvbihpbnB1dFZhbHVlKSB7XG5cdCAgICAgICAgICB2YXIgZWxlbSwgZW5kLCBzdGFydCwgdXBwZXJlZDtcblx0ICAgICAgICAgIHVwcGVyZWQgPSBpbnB1dFZhbHVlID8gaW5wdXRWYWx1ZS50b1VwcGVyQ2FzZSgpIDogaW5wdXRWYWx1ZTtcblx0ICAgICAgICAgIGlmICh1cHBlcmVkICE9PSBpbnB1dFZhbHVlKSB7XG5cdCAgICAgICAgICAgIGVsZW0gPSBlbGVtZW50WzBdO1xuXHQgICAgICAgICAgICBzdGFydCA9IGVsZW0uc2VsZWN0aW9uU3RhcnQ7XG5cdCAgICAgICAgICAgIGVuZCA9IGVsZW0uc2VsZWN0aW9uRW5kO1xuXHQgICAgICAgICAgICBtb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSh1cHBlcmVkKTtcblx0ICAgICAgICAgICAgbW9kZWxDdHJsLiRyZW5kZXIoKTtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtLnNldFNlbGVjdGlvblJhbmdlID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgICBlbGVtLnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gdXBwZXJlZDtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIG1vZGVsQ3RybC4kcGFyc2Vycy5wdXNoKHRvVXBwZXIpO1xuXHQgICAgICAgIHRvVXBwZXIoc2NvcGVbYXR0cnMubmdNb2RlbF0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGFuZ3VsYXIpIHsndXNlIHN0cmljdCc7XG5cdHZhciBzbGljZSA9IFtdLnNsaWNlO1xuXHRcblx0YW5ndWxhci5tb2R1bGUoJ25nRXh0ZW5kcy5maWx0ZXJzLmFycmF5cycsIFtdKS5maWx0ZXIoJ21ha2VBcnJheScsIFtcblx0ICBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGlucHV0KSkge1xuXHQgICAgICAgIHJldHVybiBpbnB1dDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gJC5tYWtlQXJyYXkoaW5wdXQpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XSkuZmlsdGVyKCdyYW5nZScsIFtcblx0ICBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihmcm9tLCB0bywgc3RlcCkge1xuXHQgICAgICB2YXIgYmVnaW4sIGVuZCwgaSwgaXNOdW1iZXIsIGosIHJlZiwgcmVmMSwgcmVmMiwgcmVzdWx0cztcblx0ICAgICAgaWYgKHN0ZXAgPT0gbnVsbCkge1xuXHQgICAgICAgIHN0ZXAgPSAxO1xuXHQgICAgICB9XG5cdCAgICAgIGlzTnVtYmVyID0gdHlwZW9mIGZyb20gPT09ICdudW1iZXInICYmIHR5cGVvZiB0byA9PT0gJ251bWJlcic7XG5cdCAgICAgIGJlZ2luID0gaXNOdW1iZXIgPyBmcm9tIDogZnJvbS50b1N0cmluZygpLmNoYXJDb2RlQXQoMCk7XG5cdCAgICAgIGVuZCA9IGlzTnVtYmVyID8gdG8gOiB0by50b1N0cmluZygpLmNoYXJDb2RlQXQoMCk7XG5cdCAgICAgIHJlc3VsdHMgPSBbXTtcblx0ICAgICAgZm9yIChpID0gaiA9IHJlZiA9IGJlZ2luLCByZWYxID0gZW5kLCByZWYyID0gKGJlZ2luID4gZW5kID8gLXN0ZXAgOiBzdGVwKTsgcmVmMiA+IDAgPyBqIDw9IHJlZjEgOiBqID49IHJlZjE7IGkgPSBqICs9IHJlZjIpIHtcblx0ICAgICAgICBpZiAoaXNOdW1iZXIpIHtcblx0ICAgICAgICAgIHJlc3VsdHMucHVzaChpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmVzdWx0cy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0cztcblx0ICAgIH07XG5cdCAgfVxuXHRdKS5maWx0ZXIoJ2pvaW4nLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIHNlcCkge1xuXHQgICAgICByZXR1cm4gJC5tYWtlQXJyYXkoaW5wdXQpLmpvaW4oc2VwKTtcblx0ICAgIH07XG5cdCAgfVxuXHRdKS5maWx0ZXIoJ2NvbWJpbmUnLCBbXG5cdCAgJyRwYXJzZScsIGZ1bmN0aW9uKCRwYXJzZSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgaW5wdXQsIHQsIHRyYW5zZm9ybWVycywgdmFsdWU7XG5cdCAgICAgIGlucHV0ID0gYXJndW1lbnRzWzBdLCB0cmFuc2Zvcm1lcnMgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkgOiBbXTtcblx0ICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkoaW5wdXQpKSB7XG5cdCAgICAgICAgaW5wdXQgPSBbaW5wdXRdO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiAoKGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBqLCBrLCBsZW4sIGxlbjEsIHJlc3VsdHM7XG5cdCAgICAgICAgcmVzdWx0cyA9IFtdO1xuXHQgICAgICAgIGZvciAoaiA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG5cdCAgICAgICAgICB2YWx1ZSA9IGlucHV0W2pdO1xuXHQgICAgICAgICAgZm9yIChrID0gMCwgbGVuMSA9IHRyYW5zZm9ybWVycy5sZW5ndGg7IGsgPCBsZW4xOyBrKyspIHtcblx0ICAgICAgICAgICAgdCA9IHRyYW5zZm9ybWVyc1trXTtcblx0ICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0KSkge1xuXHQgICAgICAgICAgICAgIHZhbHVlID0gdCh2YWx1ZSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgdmFsdWUgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICBzd2l0Y2ggKHQpIHtcblx0ICAgICAgICAgICAgICAgICAgY2FzZSAnPWludGVnZXInOlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgIGNhc2UgJz1mbG9hdCc6XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcGFyc2UodCkodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH0pKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJlc3VsdHMucHVzaCh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXN1bHRzO1xuXHQgICAgICB9KSgpKS5yZWR1Y2UoZnVuY3Rpb24odCwgdikge1xuXHQgICAgICAgIHJldHVybiB0ICsgdjtcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHQgIH1cblx0XSkuZmlsdGVyKCdsaW1pdCcsIFtcblx0ICBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCwgcGFnZSwgaXRlbXNQZXJQYWdlKSB7XG5cdCAgICAgIHZhciBmcm9tLCB0bztcblx0ICAgICAgZnJvbSA9IChwYWdlIC0gMSkgKiBpdGVtc1BlclBhZ2U7XG5cdCAgICAgIHRvID0gZnJvbSArIGl0ZW1zUGVyUGFnZTtcblx0ICAgICAgcmV0dXJuICQubWFrZUFycmF5KGlucHV0KS5zbGljZShmcm9tLCB0byk7XG5cdCAgICB9O1xuXHQgIH1cblx0XSkuZmlsdGVyKCd0cmltJywgW1xuXHQgIGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgIHZhciBhLCBqLCBsZW4sIHJlZiwgcmVmMSwgcmVzdWx0cztcblx0ICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShpbnB1dCkpIHtcblx0ICAgICAgICByZXN1bHRzID0gW107XG5cdCAgICAgICAgZm9yIChqID0gMCwgbGVuID0gaW5wdXQubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcblx0ICAgICAgICAgIGEgPSBpbnB1dFtqXTtcblx0ICAgICAgICAgIHJlc3VsdHMucHVzaChhICE9IG51bGwgPyB0eXBlb2YgYS50b1N0cmluZyA9PT0gXCJmdW5jdGlvblwiID8gKHJlZiA9IGEudG9TdHJpbmcoKSkgIT0gbnVsbCA/IHR5cGVvZiByZWYudHJpbSA9PT0gXCJmdW5jdGlvblwiID8gcmVmLnRyaW0oKSA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXN1bHRzO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdHlwZW9mIGlucHV0LnRvU3RyaW5nID09PSBcImZ1bmN0aW9uXCIgPyAocmVmMSA9IGlucHV0LnRvU3RyaW5nKCkpICE9IG51bGwgPyB0eXBlb2YgcmVmMS50cmltID09PSBcImZ1bmN0aW9uXCIgPyByZWYxLnRyaW0oKSA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMDtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XG5cdF0pO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihhbmd1bGFyKSB7J3VzZSBzdHJpY3QnO1xuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzLmZpbHRlcnMuc3RyaW5ncycsIFtdKS5maWx0ZXIoJ3RydXN0QXMnLCBbXG5cdCAgJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIHR5cGUpIHtcblx0ICAgICAgcmV0dXJuICRzY2UudHJ1c3RBcyh0eXBlLCBpbnB1dCk7XG5cdCAgICB9O1xuXHQgIH1cblx0XSkuZmlsdGVyKCd0cnVzdEFzQ3NzJywgW1xuXHQgICckc2NlJywgZnVuY3Rpb24oJHNjZSkge1xuXHQgICAgcmV0dXJuICRzY2UudHJ1c3RBc0Nzcztcblx0ICB9XG5cdF0pLmZpbHRlcigndHJ1c3RBc0h0bWwnLCBbXG5cdCAgJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG5cdCAgICByZXR1cm4gJHNjZS50cnVzdEFzSHRtbDtcblx0ICB9XG5cdF0pLmZpbHRlcigndHJ1c3RBc0pzJywgW1xuXHQgICckc2NlJywgZnVuY3Rpb24oJHNjZSkge1xuXHQgICAgcmV0dXJuICRzY2UudHJ1c3RBc0pzO1xuXHQgIH1cblx0XSkuZmlsdGVyKCd0cnVzdEFzUmVzb3VyY2VVcmwnLCBbXG5cdCAgJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG5cdCAgICByZXR1cm4gJHNjZS50cnVzdEFzUmVzb3VyY2VVcmw7XG5cdCAgfVxuXHRdKS5maWx0ZXIoJ3RydXN0QXNVcmwnLCBbXG5cdCAgJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG5cdCAgICByZXR1cm4gJHNjZS50cnVzdEFzVXJsO1xuXHQgIH1cblx0XSkuZmlsdGVyKCdyZXBsYWNlJywgW1xuXHQgIGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBzZWFyY2gsIHJlcGxhY2VtZW50LCBvcHRpb25zKSB7XG5cdCAgICAgIGlmICghKHNlYXJjaCBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcblx0ICAgICAgICBzZWFyY2ggPSBuZXcgUmVnRXhwKChzZWFyY2ggfHwgJycpLnRvU3RyaW5nKCksIG9wdGlvbnMpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiAoaW5wdXQgfHwgJycpLnRvU3RyaW5nKCkucmVwbGFjZShzZWFyY2gsIHJlcGxhY2VtZW50KTtcblx0ICAgIH07XG5cdCAgfVxuXHRdKS5maWx0ZXIoJ25sMmJyJywgW1xuXHQgIGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgIHJldHVybiAoaW5wdXQgfHwgJycpLnRvU3RyaW5nKCkucmVwbGFjZSgvKFxcclxcbnxcXG5cXHJ8XFxyfFxcbikvZywgJzxici8+Jyk7XG5cdCAgICB9O1xuXHQgIH1cblx0XSkuZmlsdGVyKCdicjJubCcsIFtcblx0ICBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICByZXR1cm4gKGlucHV0IHx8ICcnKS50b1N0cmluZygpLnJlcGxhY2UoLyg8YnI+fDxiclxcLz4pL2csICdcXG4nKTtcblx0ICAgIH07XG5cdCAgfVxuXHRdKS5maWx0ZXIoJ3NwYWNlMm5ic3AnLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgcmV0dXJuIChpbnB1dCB8fCAnJykudG9TdHJpbmcoKS5yZXBsYWNlKC9cXHMvZywgJyZuYnNwOycpO1xuXHQgICAgfTtcblx0ICB9XG5cdF0pLmZpbHRlcignbmJzcDJzcGFjZScsIFtcblx0ICBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICByZXR1cm4gKGlucHV0IHx8ICcnKS50b1N0cmluZygpLnJlcGxhY2UoLyZuYnNwOy9nLCAnICcpO1xuXHQgICAgfTtcblx0ICB9XG5cdF0pLmZpbHRlcignc3BsaXQnLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIHNlcGFyYXRvcnMsIGxpbWl0KSB7XG5cdCAgICAgIGlmIChpbnB1dCA9PSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0O1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpLnNwbGl0KG5ldyBSZWdFeHAoKGFuZ3VsYXIuaXNBcnJheShzZXBhcmF0b3JzKSA/IHNlcGFyYXRvcnMuam9pbignfCcpIDogc2VwYXJhdG9ycykudG9TdHJpbmcoKSksIGxpbWl0KTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XG5cdF0pLmZpbHRlcignY3V0c3RyaW5nJywgW1xuXHQgIGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBtYXhMZW5ndGgsIHN1ZmZpeCkge1xuXHQgICAgICB2YXIgaW5wdXRTdHJpbmc7XG5cdCAgICAgIGlmIChtYXhMZW5ndGggPT0gbnVsbCkge1xuXHQgICAgICAgIG1heExlbmd0aCA9IDEwO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChzdWZmaXggPT0gbnVsbCkge1xuXHQgICAgICAgIHN1ZmZpeCA9ICcuLi4nO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpbnB1dCA9PSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0O1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlucHV0U3RyaW5nID0gaW5wdXQudG9TdHJpbmcoKTtcblx0ICAgICAgICBpZiAoaW5wdXRTdHJpbmcubGVuZ3RoID4gbWF4TGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCkge1xuXHQgICAgICAgICAgaW5wdXRTdHJpbmcgPSBpbnB1dFN0cmluZy5zbGljZSgwLCBtYXhMZW5ndGgpICsgc3VmZml4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gaW5wdXRTdHJpbmc7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfVxuXHRdKS5maWx0ZXIoJ3JvdW5kY3V0c3RyaW5nJywgW1xuXHQgIGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBzZWFyY2gsIG1heExlbmd0aCwgcHJlZml4LCBzdWZmaXgpIHtcblx0ICAgICAgdmFyIGRvQ3V0LCBpLCBpbnB1dFN0cmluZywgc2VhcmNoU3RyaW5nO1xuXHQgICAgICBpZiAobWF4TGVuZ3RoID09IG51bGwpIHtcblx0ICAgICAgICBtYXhMZW5ndGggPSAyMDtcblx0ICAgICAgfVxuXHQgICAgICBpZiAocHJlZml4ID09IG51bGwpIHtcblx0ICAgICAgICBwcmVmaXggPSAnLi4uJztcblx0ICAgICAgfVxuXHQgICAgICBpZiAoc3VmZml4ID09IG51bGwpIHtcblx0ICAgICAgICBzdWZmaXggPSAnLi4uJztcblx0ICAgICAgfVxuXHQgICAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBpbnB1dDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpbnB1dFN0cmluZyA9IGlucHV0LnRvU3RyaW5nKCk7XG5cdCAgICAgICAgc2VhcmNoU3RyaW5nID0gKHNlYXJjaCB8fCAnJykudG9TdHJpbmcoKTtcblx0ICAgICAgICBpID0gaW5wdXRTdHJpbmcuaW5kZXhPZihzZWFyY2hTdHJpbmcpO1xuXHQgICAgICAgIGlmIChpID09PSAtMSkge1xuXHQgICAgICAgICAgaWYgKGlucHV0U3RyaW5nLmxlbmd0aCA+IG1heExlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgaW5wdXRTdHJpbmcgPSBpbnB1dFN0cmluZy5zbGljZSgwLCBtYXhMZW5ndGgpICsgc3VmZml4O1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmV0dXJuIGlucHV0U3RyaW5nO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4gKGRvQ3V0ID0gZnVuY3Rpb24oYmVmb3JlLCBhZnRlciwgc3RyaW5nLCByZXN0TGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHZhciBlbXB0eU9yUHJlZml4LCBlbXB0eU9yU3VmZml4LCBoYWxmTGVuZ3RoLCBwaWVjZU9mQWZ0ZXIsIHBpZWNlT2ZCZWZvcmUsIHJlc3RPZkFmdGVyLCByZXN0T2ZCZWZvcmU7XG5cdCAgICAgICAgICAgIGlmIChyZXN0TGVuZ3RoIDw9IDAgfHwgYmVmb3JlLmxlbmd0aCA9PT0gMCAmJiBhZnRlci5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICAgICAgICBlbXB0eU9yUHJlZml4ID0gYmVmb3JlLmxlbmd0aCA+IDAgPyBwcmVmaXggOiAnJztcblx0ICAgICAgICAgICAgICBlbXB0eU9yU3VmZml4ID0gYWZ0ZXIubGVuZ3RoID4gMCA/IHN1ZmZpeCA6ICcnO1xuXHQgICAgICAgICAgICAgIHJldHVybiBlbXB0eU9yUHJlZml4ICsgc3RyaW5nICsgZW1wdHlPclN1ZmZpeDtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBoYWxmTGVuZ3RoID0gcmVzdExlbmd0aCAvIDI7XG5cdCAgICAgICAgICAgICAgaWYgKGhhbGZMZW5ndGggPCAxKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZG9DdXQoYmVmb3JlLnNsaWNlKDAsIC0xKSwgYWZ0ZXIsIGJlZm9yZS5zbGljZSgtMSkgKyBzdHJpbmcsIDApO1xuXHQgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBwaWVjZU9mQmVmb3JlID0gYmVmb3JlLnNsaWNlKC1oYWxmTGVuZ3RoKTtcblx0ICAgICAgICAgICAgICAgIHBpZWNlT2ZBZnRlciA9IGFmdGVyLnNsaWNlKDAsIGhhbGZMZW5ndGgpO1xuXHQgICAgICAgICAgICAgICAgcmVzdE9mQmVmb3JlID0gYmVmb3JlLnNsaWNlKDAsIC1oYWxmTGVuZ3RoKTtcblx0ICAgICAgICAgICAgICAgIHJlc3RPZkFmdGVyID0gYWZ0ZXIuc2xpY2UoaGFsZkxlbmd0aCk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZG9DdXQocmVzdE9mQmVmb3JlLCByZXN0T2ZBZnRlciwgcGllY2VPZkJlZm9yZSArIHN0cmluZyArIHBpZWNlT2ZBZnRlciwgcmVzdExlbmd0aCAtIHBpZWNlT2ZCZWZvcmUubGVuZ3RoIC0gcGllY2VPZkFmdGVyLmxlbmd0aCk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KShpbnB1dFN0cmluZy5zbGljZSgwLCBpKSwgaW5wdXRTdHJpbmcuc2xpY2UoaSArIHNlYXJjaFN0cmluZy5sZW5ndGgpLCBzZWFyY2hTdHJpbmcsIG1heExlbmd0aCAtIHNlYXJjaFN0cmluZy5sZW5ndGggLSBwcmVmaXgubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGFuZ3VsYXIsIHdpbmRvdykgeyd1c2Ugc3RyaWN0Jztcblx0dmFyIHNsaWNlID0gW10uc2xpY2U7XG5cdFxuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzLnNlcnZpY2VzLnBsYXlSb3V0ZXMnLCBbXSkucHJvdmlkZXIoJyRwbGF5Um91dGVzJywgW1xuXHQgIGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5qc1JvdXRlcyA9IHdpbmRvdy5Sb3V0ZXM7XG5cdCAgICB0aGlzLiRnZXQgPSBbXG5cdCAgICAgICckaHR0cCcsICckbG9jYXRpb24nLCAoZnVuY3Rpb24oX3RoaXMpIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24oJGh0dHAsICRsb2NhdGlvbikge1xuXHQgICAgICAgICAgdmFyIGFkZFJvdXRlcywgcGxheVJvdXRlcywgd3JhcEh0dHA7XG5cdCAgICAgICAgICB3cmFwSHR0cCA9IGZ1bmN0aW9uKGZuKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICB2YXIgYWJzb2x1dGVVUkwsIGhvc3QsIGh0dHBNZXRob2QsIHJlZiwgcmVzLCByb3V0ZU9iamVjdCwgdXJsO1xuXHQgICAgICAgICAgICAgIHJvdXRlT2JqZWN0ID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgICAgICBodHRwTWV0aG9kID0gcm91dGVPYmplY3QubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgICAgYWJzb2x1dGVVUkwgPSByb3V0ZU9iamVjdC5hYnNvbHV0ZVVSTCgpO1xuXHQgICAgICAgICAgICAgIGhvc3QgPSAocmVmID0gYWJzb2x1dGVVUkwubWF0Y2goL15odHRwcz86XFwvXFwvKFteXFwvPyNdKykoPzpbXFwvPyNdfCQpL2kpKSAhPSBudWxsID8gcmVmWzFdIDogdm9pZCAwO1xuXHQgICAgICAgICAgICAgIHVybCA9ICRsb2NhdGlvbi5ob3N0KCkgPT09IGhvc3QgPyByb3V0ZU9iamVjdC51cmwgOiBhYnNvbHV0ZVVSTDtcblx0ICAgICAgICAgICAgICByZXMgPSB7XG5cdCAgICAgICAgICAgICAgICAkcm91dGU6IHJvdXRlT2JqZWN0LFxuXHQgICAgICAgICAgICAgICAgbWV0aG9kOiBodHRwTWV0aG9kLFxuXHQgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG5cdCAgICAgICAgICAgICAgICBhYnNvbHV0ZVVSTDogcm91dGVPYmplY3QuYWJzb2x1dGVVUkwsXG5cdCAgICAgICAgICAgICAgICB3ZWJTb2NrZXRVUkw6IHJvdXRlT2JqZWN0LndlYlNvY2tldFVSTFxuXHQgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgcmVzLmFqYXggPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0ICAgICAgICAgICAgICAgIG9wdGlvbnMubWV0aG9kID0gaHR0cE1ldGhvZDtcblx0ICAgICAgICAgICAgICAgIG9wdGlvbnMudXJsID0gdXJsO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICRodHRwKG9wdGlvbnMpO1xuXHQgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgcmVzW2h0dHBNZXRob2RdID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgYWpheCwgYXJncztcblx0ICAgICAgICAgICAgICAgIGFyZ3MgPSAxIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMCkgOiBbXTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAoYWpheCA9ICRodHRwW2h0dHBNZXRob2RdKS5hcHBseShhamF4LCBbXS5jb25jYXQuY2FsbChbdXJsXSwgYXJncykpO1xuXHQgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHJlcztcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgICAoYWRkUm91dGVzID0gZnVuY3Rpb24ocGxheVJvdXRlc09iamVjdCwganNSb3V0ZXNPYmplY3QpIHtcblx0ICAgICAgICAgICAgdmFyIGtleSwgdmFsdWU7XG5cdCAgICAgICAgICAgIGZvciAoa2V5IGluIGpzUm91dGVzT2JqZWN0KSB7XG5cdCAgICAgICAgICAgICAgdmFsdWUgPSBqc1JvdXRlc09iamVjdFtrZXldO1xuXHQgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICBwbGF5Um91dGVzT2JqZWN0W2tleV0gPSB3cmFwSHR0cCh2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBwbGF5Um91dGVzT2JqZWN0KSkge1xuXHQgICAgICAgICAgICAgICAgICBwbGF5Um91dGVzT2JqZWN0W2tleV0gPSB7fTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGFkZFJvdXRlcyhwbGF5Um91dGVzT2JqZWN0W2tleV0sIHZhbHVlKTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pKHBsYXlSb3V0ZXMgPSB7fSwgX3RoaXMuanNSb3V0ZXMpO1xuXHQgICAgICAgICAgcmV0dXJuIHBsYXlSb3V0ZXM7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfSkodGhpcylcblx0ICAgIF07XG5cdCAgfVxuXHRdKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSkpXG5cbi8qKiovIH0sXG4vKiAxMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGlmICghZ2xvYmFsLmRvY3VtZW50KSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbmd1bGFyLmV4dGVuZHMgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIpO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbDtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihhbmd1bGFyKSB7J3VzZSBzdHJpY3QnO1xuXHRhbmd1bGFyLm1vZHVsZSgnbmdFeHRlbmRzLnNlcnZpY2VzLnNlYXJjaEZvcm0nLCBbXSkuZmFjdG9yeSgnJHNlYXJjaEZvcm0nLCBbXG5cdCAgZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgICAgICB2YXIgU2VhcmNoRm9ybTtcblx0ICAgICAgU2VhcmNoRm9ybSA9IChmdW5jdGlvbigpIHtcblx0ICAgICAgICBmdW5jdGlvbiBTZWFyY2hGb3JtKG9wdGlvbnMxKSB7XG5cdCAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zMTtcblx0ICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zKSkge1xuXHQgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XG5cdCAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLm9wdGlvbnNcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHRoaXMub3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHtcblx0ICAgICAgICAgICAgZGVmYXVsdHM6IHt9LFxuXHQgICAgICAgICAgICBwcmVTdWJtaXQ6IGZ1bmN0aW9uKGZvcm0sIGZpbHRlcnMsIHVuZmlsdGVycykge30sXG5cdCAgICAgICAgICAgIHByZVJlc2V0OiBmdW5jdGlvbihmb3JtKSB7fSxcblx0ICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbihmb3JtLCBmaWx0ZXJzLCB1bmZpbHRlcnMpIHt9LFxuXHQgICAgICAgICAgICByZXNldDogZnVuY3Rpb24oZm9ybSkge30sXG5cdCAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oZm9ybSkge31cblx0ICAgICAgICAgIH0sIHRoaXMub3B0aW9ucyk7XG5cdCAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBhbmd1bGFyLmNvcHkodGhpcy5vcHRpb25zLmRlZmF1bHRzKSB8fCB7fTtcblx0ICAgICAgICAgIHRoaXMuZm9ybSA9IGFuZ3VsYXIuY29weSh0aGlzLm9wdGlvbnMuZGVmYXVsdHMpIHx8IHt9O1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgU2VhcmNoRm9ybS5wcm90b3R5cGUuaXNQcmlzdGluZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKHRoaXMuY3VycmVudCwgdGhpcy5mb3JtKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBTZWFyY2hGb3JtLnByb3RvdHlwZS5pc0RpcnR5ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICByZXR1cm4gIXRoaXMuaXNQcmlzdGluZSgpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIFNlYXJjaEZvcm0ucHJvdG90eXBlLmlzQ2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgcmV0dXJuICFhbmd1bGFyLmVxdWFscyh0aGlzLmN1cnJlbnQsIHRoaXMub3B0aW9ucy5kZWZhdWx0cyk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgU2VhcmNoRm9ybS5wcm90b3R5cGUuc3VibWl0ID0gZnVuY3Rpb24oZm9ybSwgZmlsdGVycywgdW5maWx0ZXJzKSB7XG5cdCAgICAgICAgICB2YXIgYmFzZSwgYmFzZTEsIGJhc2UyLCBpc0ZpbHRlcmVkLCBrZXksIHZhbHVlO1xuXHQgICAgICAgICAgaWYgKCh0eXBlb2YgKGJhc2UgPSB0aGlzLm9wdGlvbnMpLnByZVN1Ym1pdCA9PT0gXCJmdW5jdGlvblwiID8gYmFzZS5wcmVTdWJtaXQoZm9ybSwgZmlsdGVycywgdW5maWx0ZXJzKSA6IHZvaWQgMCkgIT09IGZhbHNlKSB7XG5cdCAgICAgICAgICAgIGlmIChmaWx0ZXJzICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICBpc0ZpbHRlcmVkID0gKChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIHZhciByZWYsIHJlc3VsdHM7XG5cdCAgICAgICAgICAgICAgICByZWYgPSBmaWx0ZXJzIHx8IHt9O1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuXHQgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gcmVmKSB7XG5cdCAgICAgICAgICAgICAgICAgIHZhbHVlID0gcmVmW2tleV07XG5cdCAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChba2V5LCB2YWx1ZV0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cdCAgICAgICAgICAgICAgfSkoKSkuZXZlcnkoKGZ1bmN0aW9uKF90aGlzKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oa2V5V2l0aFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgIHZhciBrZXksIHZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICBrZXkgPSBrZXlXaXRoVmFsdWVbMF0sIHZhbHVlID0ga2V5V2l0aFZhbHVlWzFdO1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5lcXVhbHMoX3RoaXMuZm9ybVtrZXldLCB2YWx1ZSwgdHJ1ZSk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgIH0pKHRoaXMpKTtcblx0ICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh0aGlzLmZvcm0sIGFuZ3VsYXIuY29weShpc0ZpbHRlcmVkID8gdW5maWx0ZXJzIDogZmlsdGVycykpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IGFuZ3VsYXIuY29weSh0aGlzLmZvcm0pO1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIChiYXNlMSA9IHRoaXMub3B0aW9ucykuc3VibWl0ID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgICBiYXNlMS5zdWJtaXQoZm9ybSwgZmlsdGVycywgdW5maWx0ZXJzKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAodHlwZW9mIChiYXNlMiA9IHRoaXMub3B0aW9ucykuYWN0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgICBiYXNlMi5hY3Rpb24oZm9ybSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIFNlYXJjaEZvcm0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oZm9ybSkge1xuXHQgICAgICAgICAgdmFyIGJhc2UsIGJhc2UxLCBiYXNlMjtcblx0ICAgICAgICAgIGlmICgodHlwZW9mIChiYXNlID0gdGhpcy5vcHRpb25zKS5wcmVSZXNldCA9PT0gXCJmdW5jdGlvblwiID8gYmFzZS5wcmVSZXNldChmb3JtKSA6IHZvaWQgMCkgIT09IGZhbHNlKSB7XG5cdCAgICAgICAgICAgIGlmIChmb3JtICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICBpZiAodHlwZW9mIGZvcm0uJHNldFByaXN0aW5lID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IGFuZ3VsYXIuY29weSh0aGlzLm9wdGlvbnMuZGVmYXVsdHMpIHx8IHt9O1xuXHQgICAgICAgICAgICB0aGlzLmZvcm0gPSBhbmd1bGFyLmNvcHkodGhpcy5vcHRpb25zLmRlZmF1bHRzKSB8fCB7fTtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiAoYmFzZTEgPSB0aGlzLm9wdGlvbnMpLnJlc2V0ID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgICBiYXNlMS5yZXNldChmb3JtKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAodHlwZW9mIChiYXNlMiA9IHRoaXMub3B0aW9ucykuYWN0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgICBiYXNlMi5hY3Rpb24oZm9ybSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIFNlYXJjaEZvcm0ucHJvdG90eXBlLnBhcmFtcyA9IGZ1bmN0aW9uKHJlZnJlc2gsIGRlZmF1bHRzKSB7XG5cdCAgICAgICAgICB2YXIga2V5LCBwYXJhbXMsIHJlZiwgdmFsdWU7XG5cdCAgICAgICAgICBpZiAoYW5ndWxhci5pc09iamVjdChyZWZyZXNoKSkge1xuXHQgICAgICAgICAgICByZWYgPSBbcmVmcmVzaCwgZmFsc2VdLCBkZWZhdWx0cyA9IHJlZlswXSwgcmVmcmVzaCA9IHJlZlsxXTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHBhcmFtcyA9IHJlZnJlc2ggPT09IHRydWUgPyBhbmd1bGFyLmNvcHkodGhpcy5jdXJyZW50KSA6IGFuZ3VsYXIuY29weSh0aGlzLmZvcm0gPSBhbmd1bGFyLmNvcHkodGhpcy5jdXJyZW50KSk7XG5cdCAgICAgICAgICBmb3IgKGtleSBpbiB0aGlzLm9wdGlvbnMuZGVmYXVsdHMpIHtcblx0ICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShwYXJhbXNba2V5XSkpIHtcblx0ICAgICAgICAgICAgICBwYXJhbXNba2V5XSA9IHBhcmFtc1trZXldLmZpbHRlcihmdW5jdGlvbihhKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gISFhO1xuXHQgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBwYXJhbXMgPSBhbmd1bGFyLmV4dGVuZChwYXJhbXMsIGFuZ3VsYXIuY29weShkZWZhdWx0cykpO1xuXHQgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMudHJhbnNmb3JtKSkge1xuXHQgICAgICAgICAgICBmb3IgKGtleSBpbiBwYXJhbXMpIHtcblx0ICAgICAgICAgICAgICB2YWx1ZSA9IHBhcmFtc1trZXldO1xuXHQgICAgICAgICAgICAgIHBhcmFtc1trZXldID0gdGhpcy5vcHRpb25zLnRyYW5zZm9ybShrZXksIHZhbHVlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmV0dXJuIHBhcmFtcztcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICByZXR1cm4gU2VhcmNoRm9ybTtcblx0XG5cdCAgICAgIH0pKCk7XG5cdCAgICAgIHJldHVybiBuZXcgU2VhcmNoRm9ybShvcHRpb25zKTtcblx0ICAgIH07XG5cdCAgfVxuXHRdKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKSlcblxuLyoqKi8gfVxuLyoqKioqKi8gXSlcbn0pO1xuOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
